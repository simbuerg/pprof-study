


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.3.0">
    
    
      
        <title>Experiment - benchbuild</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6e35a1a6.min.css">
      
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="lightgreen">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-benchbuildcliexperiment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../.." title="benchbuild" class="md-header-nav__button md-logo" aria-label="benchbuild">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            benchbuild
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Experiment
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/PolyJIT/benchbuild/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    benchbuild
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="benchbuild" class="md-nav__button md-logo" aria-label="benchbuild">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    benchbuild
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/PolyJIT/benchbuild/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    benchbuild
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1" checked>
    
    <label class="md-nav__link" for="nav-2-1">
      Benchbuild
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Benchbuild" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Benchbuild
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../container/" title="Container" class="md-nav__link">
      Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../driver/" title="Driver" class="md-nav__link">
      Driver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../experiment/" title="Experiment" class="md-nav__link">
      Experiment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../likwid/" title="Likwid" class="md-nav__link">
      Likwid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project/" title="Project" class="md-nav__link">
      Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../signals/" title="Signals" class="md-nav__link">
      Signals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/" title="Statistics" class="md-nav__link">
      Statistics
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-10" type="checkbox" id="nav-2-1-10" checked>
    
    <label class="md-nav__link" for="nav-2-1-10">
      CLI
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="CLI" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        CLI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../bootstrap/" title="Bootstrap" class="md-nav__link">
      Bootstrap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config/" title="Config" class="md-nav__link">
      Config
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Experiment
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Experiment" class="md-nav__link md-nav__link--active">
      Experiment
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiments_from_db" class="md-nav__link">
    experiments_from_db
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_completed_runs" class="md-nav__link">
    get_completed_runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_failed_runs" class="md-nav__link">
    get_failed_runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_template" class="md-nav__link">
    get_template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refresh_root_window" class="md-nav__link">
    refresh_root_window
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_experiment" class="md-nav__link">
    render_experiment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bbexperiment" class="md-nav__link">
    BBExperiment
  </a>
  
    <nav class="md-nav" aria-label="BBExperiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-methods" class="md-nav__link">
    Static methods
  </a>
  
    <nav class="md-nav" aria-label="Static methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autocomplete" class="md-nav__link">
    autocomplete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke" class="md-nav__link">
    invoke
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subcommand" class="md-nav__link">
    subcommand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unbind_switches" class="md-nav__link">
    unbind_switches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    cleanup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#help" class="md-nav__link">
    help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpall" class="md-nav__link">
    helpall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bbexperimentshow" class="md-nav__link">
    BBExperimentShow
  </a>
  
    <nav class="md-nav" aria-label="BBExperimentShow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_1" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables_1" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-methods_1" class="md-nav__link">
    Static methods
  </a>
  
    <nav class="md-nav" aria-label="Static methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autocomplete_1" class="md-nav__link">
    autocomplete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke_1" class="md-nav__link">
    invoke
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_1" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subcommand_1" class="md-nav__link">
    subcommand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unbind_switches_1" class="md-nav__link">
    unbind_switches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_1" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_1" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleanup_1" class="md-nav__link">
    cleanup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#help_1" class="md-nav__link">
    help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpall_1" class="md-nav__link">
    helpall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main_1" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version_1" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bbexperimentview" class="md-nav__link">
    BBExperimentView
  </a>
  
    <nav class="md-nav" aria-label="BBExperimentView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_2" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables_2" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-methods_2" class="md-nav__link">
    Static methods
  </a>
  
    <nav class="md-nav" aria-label="Static methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autocomplete_2" class="md-nav__link">
    autocomplete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke_2" class="md-nav__link">
    invoke
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_2" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subcommand_2" class="md-nav__link">
    subcommand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unbind_switches_2" class="md-nav__link">
    unbind_switches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_2" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleanup_2" class="md-nav__link">
    cleanup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#help_2" class="md-nav__link">
    help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpall_2" class="md-nav__link">
    helpall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main_2" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version_2" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choice" class="md-nav__link">
    Choice
  </a>
  
    <nav class="md-nav" aria-label="Choice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_3" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_3" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#item_chosen" class="md-nav__link">
    item_chosen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render" class="md-nav__link">
    render
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#horizontalboxes" class="md-nav__link">
    HorizontalBoxes
  </a>
  
    <nav class="md-nav" aria-label="HorizontalBoxes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_4" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_4" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clear" class="md-nav__link">
    clear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_widths" class="md-nav__link">
    column_widths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_cursor_coords" class="md-nav__link">
    get_cursor_coords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus" class="md-nav__link">
    get_focus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus_column" class="md-nav__link">
    get_focus_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus_path" class="md-nav__link">
    get_focus_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus_widgets" class="md-nav__link">
    get_focus_widgets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_pref_col" class="md-nav__link">
    get_pref_col
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypress" class="md-nav__link">
    keypress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mouse_event" class="md-nav__link">
    mouse_event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move_cursor_to_coords" class="md-nav__link">
    move_cursor_to_coords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open_box" class="md-nav__link">
    open_box
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pack" class="md-nav__link">
    pack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_1" class="md-nav__link">
    render
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rows" class="md-nav__link">
    rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selectable" class="md-nav__link">
    selectable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_focus" class="md-nav__link">
    set_focus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_focus_column" class="md-nav__link">
    set_focus_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_focus_path" class="md-nav__link">
    set_focus_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sizing" class="md-nav__link">
    sizing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#menubutton" class="md-nav__link">
    MenuButton
  </a>
  
    <nav class="md-nav" aria-label="MenuButton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_5" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables_3" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_5" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_5" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_label" class="md-nav__link">
    get_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypress_1" class="md-nav__link">
    keypress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mouse_event_1" class="md-nav__link">
    mouse_event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_2" class="md-nav__link">
    render
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_label" class="md-nav__link">
    set_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sizing_1" class="md-nav__link">
    sizing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submenu" class="md-nav__link">
    SubMenu
  </a>
  
    <nav class="md-nav" aria-label="SubMenu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_6" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_6" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_6" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open_menu" class="md-nav__link">
    open_menu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_3" class="md-nav__link">
    render
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../log/" title="Log" class="md-nav__link">
      Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../main/" title="Main" class="md-nav__link">
      Main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../project/" title="Project" class="md-nav__link">
      Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../report/" title="Report" class="md-nav__link">
      Report
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../run/" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../slurm/" title="Slurm" class="md-nav__link">
      Slurm
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-11" type="checkbox" id="nav-2-1-11">
    
    <label class="md-nav__link" for="nav-2-1-11">
      Db
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Db" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Db
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../db/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../db/manage/" title="Manage" class="md-nav__link">
      Manage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-11-3" type="checkbox" id="nav-2-1-11-3">
    
    <label class="md-nav__link" for="nav-2-1-11-3">
      Versions
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Versions" data-md-level="4">
      <label class="md-nav__title" for="nav-2-1-11-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Versions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../db/versions/001_Remove_RegressionTest_table/" title="001 Remove Regressiontest Table" class="md-nav__link">
      001 Remove Regressiontest Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../db/versions/002_Remove_GlobalConfig_table/" title="002 Remove Globalconfig Table" class="md-nav__link">
      002 Remove Globalconfig Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../db/versions/003_Unmanage_Events/" title="003 Unmanage Events" class="md-nav__link">
      003 Unmanage Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../db/versions/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-12" type="checkbox" id="nav-2-1-12">
    
    <label class="md-nav__link" for="nav-2-1-12">
      Experiments
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Experiments" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Experiments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../experiments/empty/" title="Empty" class="md-nav__link">
      Empty
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../experiments/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../experiments/raw/" title="Raw" class="md-nav__link">
      Raw
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-13" type="checkbox" id="nav-2-1-13">
    
    <label class="md-nav__link" for="nav-2-1-13">
      Extensions
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Extensions" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-13">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Extensions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../extensions/base/" title="Base" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extensions/compiler/" title="Compiler" class="md-nav__link">
      Compiler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extensions/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extensions/log/" title="Log" class="md-nav__link">
      Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extensions/run/" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extensions/time/" title="Time" class="md-nav__link">
      Time
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-14" type="checkbox" id="nav-2-1-14">
    
    <label class="md-nav__link" for="nav-2-1-14">
      Projects
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Projects" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-14">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Projects
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-14-2" type="checkbox" id="nav-2-1-14-2">
    
    <label class="md-nav__link" for="nav-2-1-14-2">
      Apollo
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Apollo" data-md-level="4">
      <label class="md-nav__title" for="nav-2-1-14-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Apollo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/apollo/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/apollo/rodinia/" title="Rodinia" class="md-nav__link">
      Rodinia
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/apollo/scimark/" title="Scimark" class="md-nav__link">
      Scimark
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-14-3" type="checkbox" id="nav-2-1-14-3">
    
    <label class="md-nav__link" for="nav-2-1-14-3">
      Benchbuild
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Benchbuild" data-md-level="4">
      <label class="md-nav__title" for="nav-2-1-14-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Benchbuild
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/bots/" title="Bots" class="md-nav__link">
      Bots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/bzip2/" title="Bzip2" class="md-nav__link">
      Bzip2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/ccrypt/" title="Ccrypt" class="md-nav__link">
      Ccrypt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/crafty/" title="Crafty" class="md-nav__link">
      Crafty
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/crocopat/" title="Crocopat" class="md-nav__link">
      Crocopat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/ffmpeg/" title="Ffmpeg" class="md-nav__link">
      Ffmpeg
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/gzip/" title="Gzip" class="md-nav__link">
      Gzip
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/js/" title="Js" class="md-nav__link">
      Js
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/lammps/" title="Lammps" class="md-nav__link">
      Lammps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/lapack/" title="Lapack" class="md-nav__link">
      Lapack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/leveldb/" title="Leveldb" class="md-nav__link">
      Leveldb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/linpack/" title="Linpack" class="md-nav__link">
      Linpack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/lulesh/" title="Lulesh" class="md-nav__link">
      Lulesh
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/mcrypt/" title="Mcrypt" class="md-nav__link">
      Mcrypt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/minisat/" title="Minisat" class="md-nav__link">
      Minisat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/openssl/" title="Openssl" class="md-nav__link">
      Openssl
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/povray/" title="Povray" class="md-nav__link">
      Povray
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/rasdaman/" title="Rasdaman" class="md-nav__link">
      Rasdaman
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/ruby/" title="Ruby" class="md-nav__link">
      Ruby
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/sdcc/" title="Sdcc" class="md-nav__link">
      Sdcc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/sevenz/" title="Sevenz" class="md-nav__link">
      Sevenz
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/sqlite3/" title="Sqlite3" class="md-nav__link">
      Sqlite3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/tcc/" title="Tcc" class="md-nav__link">
      Tcc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/x264/" title="X264" class="md-nav__link">
      X264
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/benchbuild/xz/" title="Xz" class="md-nav__link">
      Xz
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-14-4" type="checkbox" id="nav-2-1-14-4">
    
    <label class="md-nav__link" for="nav-2-1-14-4">
      Gentoo
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Gentoo" data-md-level="4">
      <label class="md-nav__title" for="nav-2-1-14-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Gentoo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/autoportage/" title="Autoportage" class="md-nav__link">
      Autoportage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/bzip2/" title="Bzip2" class="md-nav__link">
      Bzip2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/crafty/" title="Crafty" class="md-nav__link">
      Crafty
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/eix/" title="Eix" class="md-nav__link">
      Eix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/gentoo/" title="Gentoo" class="md-nav__link">
      Gentoo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/gzip/" title="Gzip" class="md-nav__link">
      Gzip
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/info/" title="Info" class="md-nav__link">
      Info
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/lammps/" title="Lammps" class="md-nav__link">
      Lammps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/portage_gen/" title="Portage Gen" class="md-nav__link">
      Portage Gen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/postgresql/" title="Postgresql" class="md-nav__link">
      Postgresql
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/sevenz/" title="Sevenz" class="md-nav__link">
      Sevenz
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/x264/" title="X264" class="md-nav__link">
      X264
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/gentoo/xz/" title="Xz" class="md-nav__link">
      Xz
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-14-5" type="checkbox" id="nav-2-1-14-5">
    
    <label class="md-nav__link" for="nav-2-1-14-5">
      Lnt
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Lnt" data-md-level="4">
      <label class="md-nav__title" for="nav-2-1-14-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Lnt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/lnt/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/lnt/lnt/" title="Lnt" class="md-nav__link">
      Lnt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-14-6" type="checkbox" id="nav-2-1-14-6">
    
    <label class="md-nav__link" for="nav-2-1-14-6">
      Polybench
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Polybench" data-md-level="4">
      <label class="md-nav__title" for="nav-2-1-14-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Polybench
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/polybench/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/polybench/polybench-mod/" title="Polybench Mod" class="md-nav__link">
      Polybench Mod
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/polybench/polybench/" title="Polybench" class="md-nav__link">
      Polybench
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-14-7" type="checkbox" id="nav-2-1-14-7">
    
    <label class="md-nav__link" for="nav-2-1-14-7">
      Test
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Test" data-md-level="4">
      <label class="md-nav__title" for="nav-2-1-14-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Test
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/test/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/test/test/" title="Test" class="md-nav__link">
      Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-15" type="checkbox" id="nav-2-1-15">
    
    <label class="md-nav__link" for="nav-2-1-15">
      Reports
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Reports" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-15">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Reports
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reports/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reports/raw/" title="Raw" class="md-nav__link">
      Raw
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reports/status/" title="Status" class="md-nav__link">
      Status
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-16" type="checkbox" id="nav-2-1-16">
    
    <label class="md-nav__link" for="nav-2-1-16">
      Utils
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Utils" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-16">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Utils
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/actions/" title="Actions" class="md-nav__link">
      Actions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/bootstrap/" title="Bootstrap" class="md-nav__link">
      Bootstrap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/compiler/" title="Compiler" class="md-nav__link">
      Compiler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/container/" title="Container" class="md-nav__link">
      Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/db/" title="Db" class="md-nav__link">
      Db
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/dict/" title="Dict" class="md-nav__link">
      Dict
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/download/" title="Download" class="md-nav__link">
      Download
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/log/" title="Log" class="md-nav__link">
      Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/path/" title="Path" class="md-nav__link">
      Path
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/progress/" title="Progress" class="md-nav__link">
      Progress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/run/" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/schedule_tree/" title="Schedule Tree" class="md-nav__link">
      Schedule Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/schema/" title="Schema" class="md-nav__link">
      Schema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/slurm/" title="Slurm" class="md-nav__link">
      Slurm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/tasks/" title="Tasks" class="md-nav__link">
      Tasks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/uchroot/" title="Uchroot" class="md-nav__link">
      Uchroot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/unionfs/" title="Unionfs" class="md-nav__link">
      Unionfs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/user_interface/" title="User Interface" class="md-nav__link">
      User Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/versions/" title="Versions" class="md-nav__link">
      Versions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/wrapping/" title="Wrapping" class="md-nav__link">
      Wrapping
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiments_from_db" class="md-nav__link">
    experiments_from_db
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_completed_runs" class="md-nav__link">
    get_completed_runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_failed_runs" class="md-nav__link">
    get_failed_runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_template" class="md-nav__link">
    get_template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refresh_root_window" class="md-nav__link">
    refresh_root_window
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_experiment" class="md-nav__link">
    render_experiment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bbexperiment" class="md-nav__link">
    BBExperiment
  </a>
  
    <nav class="md-nav" aria-label="BBExperiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-methods" class="md-nav__link">
    Static methods
  </a>
  
    <nav class="md-nav" aria-label="Static methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autocomplete" class="md-nav__link">
    autocomplete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke" class="md-nav__link">
    invoke
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subcommand" class="md-nav__link">
    subcommand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unbind_switches" class="md-nav__link">
    unbind_switches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    cleanup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#help" class="md-nav__link">
    help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpall" class="md-nav__link">
    helpall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bbexperimentshow" class="md-nav__link">
    BBExperimentShow
  </a>
  
    <nav class="md-nav" aria-label="BBExperimentShow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_1" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables_1" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-methods_1" class="md-nav__link">
    Static methods
  </a>
  
    <nav class="md-nav" aria-label="Static methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autocomplete_1" class="md-nav__link">
    autocomplete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke_1" class="md-nav__link">
    invoke
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_1" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subcommand_1" class="md-nav__link">
    subcommand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unbind_switches_1" class="md-nav__link">
    unbind_switches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_1" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_1" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleanup_1" class="md-nav__link">
    cleanup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#help_1" class="md-nav__link">
    help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpall_1" class="md-nav__link">
    helpall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main_1" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version_1" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bbexperimentview" class="md-nav__link">
    BBExperimentView
  </a>
  
    <nav class="md-nav" aria-label="BBExperimentView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_2" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables_2" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-methods_2" class="md-nav__link">
    Static methods
  </a>
  
    <nav class="md-nav" aria-label="Static methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autocomplete_2" class="md-nav__link">
    autocomplete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke_2" class="md-nav__link">
    invoke
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_2" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subcommand_2" class="md-nav__link">
    subcommand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unbind_switches_2" class="md-nav__link">
    unbind_switches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_2" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleanup_2" class="md-nav__link">
    cleanup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#help_2" class="md-nav__link">
    help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpall_2" class="md-nav__link">
    helpall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main_2" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version_2" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choice" class="md-nav__link">
    Choice
  </a>
  
    <nav class="md-nav" aria-label="Choice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_3" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_3" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#item_chosen" class="md-nav__link">
    item_chosen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render" class="md-nav__link">
    render
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#horizontalboxes" class="md-nav__link">
    HorizontalBoxes
  </a>
  
    <nav class="md-nav" aria-label="HorizontalBoxes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_4" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_4" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clear" class="md-nav__link">
    clear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_widths" class="md-nav__link">
    column_widths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_cursor_coords" class="md-nav__link">
    get_cursor_coords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus" class="md-nav__link">
    get_focus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus_column" class="md-nav__link">
    get_focus_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus_path" class="md-nav__link">
    get_focus_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_focus_widgets" class="md-nav__link">
    get_focus_widgets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_pref_col" class="md-nav__link">
    get_pref_col
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypress" class="md-nav__link">
    keypress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mouse_event" class="md-nav__link">
    mouse_event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move_cursor_to_coords" class="md-nav__link">
    move_cursor_to_coords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open_box" class="md-nav__link">
    open_box
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pack" class="md-nav__link">
    pack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_1" class="md-nav__link">
    render
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rows" class="md-nav__link">
    rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selectable" class="md-nav__link">
    selectable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_focus" class="md-nav__link">
    set_focus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_focus_column" class="md-nav__link">
    set_focus_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_focus_path" class="md-nav__link">
    set_focus_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sizing" class="md-nav__link">
    sizing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#menubutton" class="md-nav__link">
    MenuButton
  </a>
  
    <nav class="md-nav" aria-label="MenuButton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_5" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables_3" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_5" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_5" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_label" class="md-nav__link">
    get_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypress_1" class="md-nav__link">
    keypress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mouse_event_1" class="md-nav__link">
    mouse_event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_2" class="md-nav__link">
    render
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_label" class="md-nav__link">
    set_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sizing_1" class="md-nav__link">
    sizing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submenu" class="md-nav__link">
    SubMenu
  </a>
  
    <nav class="md-nav" aria-label="SubMenu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro_6" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-variables_6" class="md-nav__link">
    Instance variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_6" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open_menu" class="md-nav__link">
    open_menu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_3" class="md-nav__link">
    render
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/PolyJIT/benchbuild/edit/master/reference/benchbuild/cli/experiment.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="module-benchbuildcliexperiment">Module benchbuild.cli.experiment</h1>
<p>Subcommand for experiment handling.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;Subcommand for experiment handling.&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="kn">as</span> <span class="nn">sa</span>

<span class="kn">import</span> <span class="nn">urwid</span>

<span class="kn">from</span> <span class="nn">plumbum</span> <span class="kn">import</span> <span class="n">cli</span>

<span class="kn">from</span> <span class="nn">benchbuild</span> <span class="kn">import</span> <span class="n">experiment</span><span class="p">,</span> <span class="n">experiments</span>

<span class="kn">from</span> <span class="nn">benchbuild.cli.main</span> <span class="kn">import</span> <span class="n">BenchBuild</span>

<span class="kn">from</span> <span class="nn">benchbuild.utils</span> <span class="kn">import</span> <span class="n">schema</span>

<span class="nd">@BenchBuild.subcommand</span><span class="p">(</span><span class="s2">&quot;experiment&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">BBExperiment</span><span class="p">(</span><span class="n">cli</span><span class="o">.</span><span class="n">Application</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Manage BenchBuild&#39;s known experiments.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">nested_command</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>

<span class="nd">@BBExperiment.subcommand</span><span class="p">(</span><span class="s2">&quot;view&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">BBExperimentView</span><span class="p">(</span><span class="n">cli</span><span class="o">.</span><span class="n">Application</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;View available experiments.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">experiments</span><span class="o">.</span><span class="n">discover</span><span class="p">()</span>

        <span class="n">all_exps</span> <span class="o">=</span> <span class="n">experiment</span><span class="o">.</span><span class="n">ExperimentRegistry</span><span class="o">.</span><span class="n">experiments</span>

        <span class="k">for</span> <span class="n">exp_cls</span> <span class="ow">in</span> <span class="n">all_exps</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>

            <span class="k">print</span><span class="p">(</span><span class="n">exp_cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">)</span>

            <span class="n">docstring</span> <span class="o">=</span> <span class="n">exp_cls</span><span class="o">.</span><span class="vm">__doc__</span> <span class="ow">or</span> <span class="s2">&quot;-- no docstring --&quot;</span>

            <span class="k">print</span><span class="p">((</span><span class="s2">&quot;    &quot;</span> <span class="o">+</span> <span class="n">docstring</span><span class="p">))</span>

<span class="k">class</span> <span class="nc">MenuButton</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">Button</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caption</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">MenuButton</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="n">urwid</span><span class="o">.</span><span class="n">connect_signal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_w</span> <span class="o">=</span> <span class="n">urwid</span><span class="o">.</span><span class="n">AttrMap</span><span class="p">(</span>

            <span class="n">urwid</span><span class="o">.</span><span class="n">SelectableIcon</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;  </span><span class="se">\N{BULLET}</span><span class="s1"> &#39;</span><span class="p">,</span> <span class="n">caption</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span>

            <span class="s1">&#39;selected&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SubMenu</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">WidgetWrap</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caption</span><span class="p">,</span> <span class="n">choices</span><span class="p">,</span> <span class="n">top</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">SubMenu</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>

            <span class="n">MenuButton</span><span class="p">([</span><span class="n">caption</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\N{HORIZONTAL ELLIPSIS}</span><span class="s2">&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_menu</span><span class="p">))</span>

        <span class="n">line</span> <span class="o">=</span> <span class="n">urwid</span><span class="o">.</span><span class="n">Divider</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\N{LOWER ONE QUARTER BLOCK}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">listbox</span> <span class="o">=</span> <span class="n">urwid</span><span class="o">.</span><span class="n">ListBox</span><span class="p">(</span>

            <span class="n">urwid</span><span class="o">.</span><span class="n">SimpleFocusListWalker</span><span class="p">([</span>

                <span class="n">urwid</span><span class="o">.</span><span class="n">AttrMap</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">Text</span><span class="p">([</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">  &quot;</span><span class="p">,</span> <span class="n">caption</span><span class="p">]),</span> <span class="s1">&#39;heading&#39;</span><span class="p">),</span>

                <span class="n">urwid</span><span class="o">.</span><span class="n">AttrMap</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">),</span>

                <span class="n">urwid</span><span class="o">.</span><span class="n">Divider</span><span class="p">()</span>

            <span class="p">]</span> <span class="o">+</span> <span class="n">choices</span> <span class="o">+</span> <span class="p">[</span><span class="n">urwid</span><span class="o">.</span><span class="n">Divider</span><span class="p">()]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">menu</span> <span class="o">=</span> <span class="n">urwid</span><span class="o">.</span><span class="n">AttrMap</span><span class="p">(</span><span class="n">listbox</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">top</span>

    <span class="k">def</span> <span class="nf">open_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">open_box</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Choice</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">WidgetWrap</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caption</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">top</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Choice</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">MenuButton</span><span class="p">(</span><span class="n">caption</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_chosen</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caption</span> <span class="o">=</span> <span class="n">caption</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">top</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span>

    <span class="k">def</span> <span class="nf">item_chosen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">):</span>

        <span class="n">session</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">confirm</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">refresh_root_window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">cancel</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>

            <span class="n">session</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">refresh_root_window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">))</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">urwid</span><span class="o">.</span><span class="n">Text</span><span class="p">([</span>

            <span class="s1">&#39;Really delete: {name} {desc}?&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>

                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">description</span><span class="p">),</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

        <span class="p">])</span>

        <span class="n">done</span> <span class="o">=</span> <span class="n">MenuButton</span><span class="p">(</span><span class="s1">&#39;Ok&#39;</span><span class="p">,</span> <span class="n">confirm</span><span class="p">)</span>

        <span class="n">cancel</span> <span class="o">=</span> <span class="n">MenuButton</span><span class="p">(</span><span class="s1">&#39;Cancel&#39;</span><span class="p">,</span> <span class="n">cancel</span><span class="p">)</span>

        <span class="n">response_box</span> <span class="o">=</span> <span class="n">urwid</span><span class="o">.</span><span class="n">Filler</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">Pile</span><span class="p">([</span><span class="n">response</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">cancel</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">AttrMap</span><span class="p">(</span><span class="n">response_box</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">))</span>

<span class="k">class</span> <span class="nc">HorizontalBoxes</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">Columns</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">HorizontalBoxes</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">([],</span> <span class="n">dividechars</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">open_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box</span><span class="p">):</span>

        <span class="n">focus_map</span> <span class="o">=</span> <span class="p">{</span>

            <span class="s1">&#39;heading&#39;</span><span class="p">:</span> <span class="s1">&#39;focus heading&#39;</span><span class="p">,</span>

            <span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="s1">&#39;focus options&#39;</span><span class="p">,</span>

            <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;focus line&#39;</span>

        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>

            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">focus_position</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

            <span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">AttrMap</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span>

                           <span class="n">focus_map</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s1">&#39;given&#39;</span><span class="p">,</span> <span class="mi">80</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">focus_position</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

<span class="nd">@BBExperiment.subcommand</span><span class="p">(</span><span class="s2">&quot;manage&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">BBExperimentShow</span><span class="p">(</span><span class="n">cli</span><span class="o">.</span><span class="n">Application</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Show completed experiments.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">maybe_exit</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">):</span>

                <span class="k">raise</span> <span class="n">urwid</span><span class="o">.</span><span class="n">ExitMainLoop</span><span class="p">()</span>

        <span class="c1"># yapf: disable</span>

        <span class="n">palette</span> <span class="o">=</span> <span class="p">[(</span><span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;heading&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="s1">&#39;dark gray&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;focus heading&#39;</span><span class="p">,</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;dark red&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;focus line&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;dark red&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;focus options&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;selected&#39;</span><span class="p">,</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;dark blue&#39;</span><span class="p">)]</span>

        <span class="c1"># yapf: enable</span>

        <span class="n">top</span> <span class="o">=</span> <span class="n">HorizontalBoxes</span><span class="p">()</span>

        <span class="n">top</span><span class="o">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">refresh_root_window</span><span class="p">(</span><span class="n">top</span><span class="p">))</span>

        <span class="n">loop</span> <span class="o">=</span> <span class="n">urwid</span><span class="o">.</span><span class="n">MainLoop</span><span class="p">(</span><span class="n">urwid</span><span class="o">.</span><span class="n">Filler</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">48</span><span class="p">),</span>

                              <span class="n">palette</span><span class="o">=</span><span class="n">palette</span><span class="p">,</span>

                              <span class="n">unhandled_input</span><span class="o">=</span><span class="n">maybe_exit</span><span class="p">)</span>

        <span class="n">loop</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_template</span><span class="p">():</span>

    <span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span>

    <span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">trim_blocks</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

                      <span class="n">lstrip_blocks</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

                      <span class="n">loader</span><span class="o">=</span><span class="n">PackageLoader</span><span class="p">(</span><span class="s1">&#39;benchbuild&#39;</span><span class="p">,</span> <span class="s1">&#39;utils/templates&#39;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;experiment_show.txt.inc&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">render_experiment</span><span class="p">(</span><span class="n">_experiment</span><span class="p">):</span>

    <span class="n">template</span> <span class="o">=</span> <span class="n">get_template</span><span class="p">()</span>

    <span class="n">sess</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">_experiment</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>

                           <span class="n">description</span><span class="o">=</span><span class="n">_experiment</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>

                           <span class="n">start_date</span><span class="o">=</span><span class="n">_experiment</span><span class="o">.</span><span class="n">begin</span><span class="p">,</span>

                           <span class="n">end_date</span><span class="o">=</span><span class="n">_experiment</span><span class="o">.</span><span class="n">end</span><span class="p">,</span>

                           <span class="nb">id</span><span class="o">=</span><span class="n">_experiment</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>

                           <span class="n">num_completed_runs</span><span class="o">=</span><span class="n">get_completed_runs</span><span class="p">(</span>

                               <span class="n">sess</span><span class="p">,</span> <span class="n">_experiment</span><span class="p">),</span>

                           <span class="n">num_failed_runs</span><span class="o">=</span><span class="n">get_failed_runs</span><span class="p">(</span><span class="n">sess</span><span class="p">,</span> <span class="n">_experiment</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">refresh_root_window</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>

    <span class="n">session</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

    <span class="n">all_db_exps</span> <span class="o">=</span> <span class="n">experiments_from_db</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>

    <span class="n">menu_top</span> <span class="o">=</span> <span class="n">SubMenu</span><span class="p">(</span><span class="s1">&#39;Experiments in database&#39;</span><span class="p">,</span> <span class="p">[</span>

        <span class="n">SubMenu</span><span class="p">(</span><span class="s2">&quot;{name} - {desc}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">elem</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="n">elem</span><span class="o">.</span><span class="n">description</span><span class="p">),</span>

                <span class="p">[</span>

                    <span class="n">urwid</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="n">render_experiment</span><span class="p">(</span><span class="n">elem</span><span class="p">)),</span>

                    <span class="n">urwid</span><span class="o">.</span><span class="n">Divider</span><span class="p">(),</span>

                    <span class="n">Choice</span><span class="p">(</span><span class="s2">&quot;Delete&quot;</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">elem</span><span class="p">)</span>

                <span class="p">],</span>

                <span class="n">top</span><span class="o">=</span><span class="n">root</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">all_db_exps</span>

    <span class="p">],</span>

                       <span class="n">top</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">menu_top</span><span class="o">.</span><span class="n">menu</span>

<span class="k">def</span> <span class="nf">experiments_from_db</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">Experiment</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_completed_runs</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">exp</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sa</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">Run</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="o">.</span>\

        <span class="nb">filter</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">Run</span><span class="o">.</span><span class="n">experiment_group</span> <span class="o">==</span> <span class="n">exp</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\

        <span class="nb">filter</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">Run</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;completed&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_failed_runs</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">exp</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sa</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">Run</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="o">.</span>\

        <span class="nb">filter</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">Run</span><span class="o">.</span><span class="n">experiment_group</span> <span class="o">==</span> <span class="n">exp</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\

        <span class="nb">filter</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">Run</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="s1">&#39;completed&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>
</code></pre></div>


</details>
<h2 id="functions">Functions</h2>
<h3 id="experiments_from_db">experiments_from_db</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">experiments_from_db</span><span class="p">(</span>
    <span class="n">session</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">experiments_from_db</span><span class="p">(</span><span class="k">session</span><span class="p">):</span>

    <span class="k">return</span> <span class="k">session</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="k">schema</span><span class="p">.</span><span class="n">Experiment</span><span class="p">).</span><span class="k">all</span><span class="p">()</span>
</code></pre></div>


</details>
<h3 id="get_completed_runs">get_completed_runs</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_completed_runs</span><span class="p">(</span>
    <span class="n">session</span><span class="p">,</span>
    <span class="n">exp</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">get_completed_runs</span><span class="p">(</span><span class="k">session</span><span class="p">,</span> <span class="n">exp</span><span class="p">):</span>

    <span class="k">return</span> <span class="k">session</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">sa</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="k">count</span><span class="p">(</span><span class="k">schema</span><span class="p">.</span><span class="n">Run</span><span class="p">.</span><span class="n">id</span><span class="p">)).</span><span class="err">\</span>

        <span class="n">filter</span><span class="p">(</span><span class="k">schema</span><span class="p">.</span><span class="n">Run</span><span class="p">.</span><span class="n">experiment_group</span> <span class="o">==</span> <span class="n">exp</span><span class="p">.</span><span class="n">id</span><span class="p">).</span><span class="err">\</span>

        <span class="n">filter</span><span class="p">(</span><span class="k">schema</span><span class="p">.</span><span class="n">Run</span><span class="p">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;completed&#39;</span><span class="p">).</span><span class="n">scalar</span><span class="p">()</span>
</code></pre></div>


</details>
<h3 id="get_failed_runs">get_failed_runs</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_failed_runs</span><span class="p">(</span>
    <span class="n">session</span><span class="p">,</span>
    <span class="n">exp</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">get_failed_runs</span><span class="p">(</span><span class="k">session</span><span class="p">,</span> <span class="n">exp</span><span class="p">):</span>

    <span class="k">return</span> <span class="k">session</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">sa</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="k">count</span><span class="p">(</span><span class="k">schema</span><span class="p">.</span><span class="n">Run</span><span class="p">.</span><span class="n">id</span><span class="p">)).</span><span class="err">\</span>

        <span class="n">filter</span><span class="p">(</span><span class="k">schema</span><span class="p">.</span><span class="n">Run</span><span class="p">.</span><span class="n">experiment_group</span> <span class="o">==</span> <span class="n">exp</span><span class="p">.</span><span class="n">id</span><span class="p">).</span><span class="err">\</span>

        <span class="n">filter</span><span class="p">(</span><span class="k">schema</span><span class="p">.</span><span class="n">Run</span><span class="p">.</span><span class="n">status</span> <span class="o">!=</span> <span class="s1">&#39;completed&#39;</span><span class="p">).</span><span class="n">scalar</span><span class="p">()</span>
</code></pre></div>


</details>
<h3 id="get_template">get_template</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_template</span><span class="p">(</span>

<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_template</span><span class="p">():</span>

    <span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span>

    <span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">trim_blocks</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

                      <span class="n">lstrip_blocks</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

                      <span class="n">loader</span><span class="o">=</span><span class="n">PackageLoader</span><span class="p">(</span><span class="s1">&#39;benchbuild&#39;</span><span class="p">,</span> <span class="s1">&#39;utils/templates&#39;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;experiment_show.txt.inc&#39;</span><span class="p">)</span>
</code></pre></div>


</details>
<h3 id="refresh_root_window">refresh_root_window</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">refresh_root_window</span><span class="p">(</span>
    <span class="n">root</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">refresh_root_window</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>

    <span class="k">session</span> <span class="o">=</span> <span class="k">schema</span><span class="p">.</span><span class="k">Session</span><span class="p">()</span>

    <span class="n">all_db_exps</span> <span class="o">=</span> <span class="n">experiments_from_db</span><span class="p">(</span><span class="k">session</span><span class="p">)</span>

    <span class="n">menu_top</span> <span class="o">=</span> <span class="n">SubMenu</span><span class="p">(</span><span class="s1">&#39;Experiments in database&#39;</span><span class="p">,</span> <span class="p">[</span>

        <span class="n">SubMenu</span><span class="p">(</span><span class="ss">&quot;{name} - {desc}&quot;</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">elem</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">desc</span><span class="o">=</span><span class="n">elem</span><span class="p">.</span><span class="n">description</span><span class="p">),</span>

                <span class="p">[</span>

                    <span class="n">urwid</span><span class="p">.</span><span class="nb">Text</span><span class="p">(</span><span class="n">render_experiment</span><span class="p">(</span><span class="n">elem</span><span class="p">)),</span>

                    <span class="n">urwid</span><span class="p">.</span><span class="n">Divider</span><span class="p">(),</span>

                    <span class="n">Choice</span><span class="p">(</span><span class="ss">&quot;Delete&quot;</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">elem</span><span class="p">)</span>

                <span class="p">],</span>

                <span class="n">top</span><span class="o">=</span><span class="n">root</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="k">in</span> <span class="n">all_db_exps</span>

    <span class="p">],</span>

                       <span class="n">top</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">menu_top</span><span class="p">.</span><span class="n">menu</span>
</code></pre></div>


</details>
<h3 id="render_experiment">render_experiment</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">render_experiment</span><span class="p">(</span>
    <span class="n">_experiment</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">render_experiment</span><span class="p">(</span><span class="n">_experiment</span><span class="p">):</span>

    <span class="k">template</span> <span class="o">=</span> <span class="n">get_template</span><span class="p">()</span>

    <span class="n">sess</span> <span class="o">=</span> <span class="k">schema</span><span class="p">.</span><span class="k">Session</span><span class="p">()</span>

    <span class="k">return</span> <span class="k">template</span><span class="p">.</span><span class="n">render</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">_experiment</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>

                           <span class="n">description</span><span class="o">=</span><span class="n">_experiment</span><span class="p">.</span><span class="n">description</span><span class="p">,</span>

                           <span class="n">start_date</span><span class="o">=</span><span class="n">_experiment</span><span class="p">.</span><span class="k">begin</span><span class="p">,</span>

                           <span class="n">end_date</span><span class="o">=</span><span class="n">_experiment</span><span class="p">.</span><span class="k">end</span><span class="p">,</span>

                           <span class="n">id</span><span class="o">=</span><span class="n">_experiment</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>

                           <span class="n">num_completed_runs</span><span class="o">=</span><span class="n">get_completed_runs</span><span class="p">(</span>

                               <span class="n">sess</span><span class="p">,</span> <span class="n">_experiment</span><span class="p">),</span>

                           <span class="n">num_failed_runs</span><span class="o">=</span><span class="n">get_failed_runs</span><span class="p">(</span><span class="n">sess</span><span class="p">,</span> <span class="n">_experiment</span><span class="p">))</span>
</code></pre></div>


</details>
<h2 id="classes">Classes</h2>
<h3 id="bbexperiment">BBExperiment</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">BBExperiment</span><span class="p">(</span>
    <span class="n">executable</span>
<span class="p">)</span>
</code></pre></div>


<p>Manage BenchBuild's known experiments.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">BBExperiment</span>(<span class="n">cli</span>.<span class="n">Application</span>):

    <span class="s">&quot;&quot;&quot;Manage BenchBuild&#39;s known experiments.&quot;&quot;&quot;</span>

    <span class="n">def</span> <span class="n">main</span>(<span class="nb">self</span>):

        <span class="k">if</span> <span class="nb">not</span> <span class="nb">self</span>.<span class="n">nested_command:</span>

            <span class="nb">self</span>.<span class="n">help</span>()
</code></pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro">Ancestors (in MRO)</h4>
<ul>
<li>plumbum.cli.application.Application</li>
</ul>
<h4 id="class-variables">Class variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">ALLOW_ABBREV</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">CALL_MAIN_IF_NESTED_COMMAND</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">COLOR_GROUPS</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">COLOR_USAGE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">DESCRIPTION</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">DESCRIPTION_MORE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">PROGNAME</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">SUBCOMMAND_HELPMSG</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">USAGE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">VERSION</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">nested_command</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">parent</span>
</code></pre></div>


<h4 id="static-methods">Static methods</h4>
<h5 id="autocomplete">autocomplete</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">autocomplete</span><span class="p">(</span>
    <span class="n">argv</span>
<span class="p">)</span>
</code></pre></div>


<p>This is supplied to make subclassing and testing argument completion methods easier</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">autocomplete</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;This is supplied to make subclassing and testing argument completion methods easier&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">pass</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="invoke">invoke</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="o">**</span><span class="n">switches</span>
<span class="p">)</span>
</code></pre></div>


<p>Invoke this application programmatically (as a function), in the same way <code>run()</code>
would. There are two key differences: the return value of <code>main()</code> is not converted to
an integer (returned as-is), and exceptions are not swallowed either.</p>
<p>:param args: any positional arguments for <code>main()</code>
:param switches: command-line switches are passed as keyword arguments,
                 e.g., <code>foo=5</code> for <code>--foo=5</code></p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">invoke</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">switches</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Invoke this application programmatically (as a function), in the same way ``run()``</span>

<span class="ss">        would. There are two key differences: the return value of ``main()`` is not converted to</span>

<span class="ss">        an integer (returned as-is), and exceptions are not swallowed either.</span>

<span class="ss">        :param args: any positional arguments for ``main()``</span>

<span class="ss">        :param switches: command-line switches are passed as keyword arguments,</span>

<span class="ss">                         e.g., ``foo=5`` for ``--foo=5``</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">inst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cls</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">swfuncs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">_parse_kwd_args</span><span class="p">(</span><span class="n">switches</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">ordered</span><span class="p">,</span><span class="w"> </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">_validate_args</span><span class="p">(</span><span class="n">swfuncs</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">ordered</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">f</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">cleanup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="nl">CALL_MAIN_IF_NESTED_COMMAND</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">retcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">main</span><span class="p">(</span><span class="o">*</span><span class="n">tailargs</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">cleanup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">functools</span><span class="p">.</span><span class="k">partial</span><span class="p">(</span><span class="n">inst</span><span class="p">.</span><span class="n">cleanup</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">retcode</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="nl">nested_command</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">subapp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="w"></span>

<span class="w">            </span><span class="n">subapp</span><span class="p">.</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="w"></span>

<span class="w">            </span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="k">exit</span><span class="o">=</span><span class="k">False</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">cleanup</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">cleanup</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="run">run</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">exit</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>


<p>Runs the application, taking the arguments from <code>sys.argv</code> by default if
nothing is passed. If <code>exit</code> is
<code>True</code> (the default), the function will exit with the appropriate return code;
otherwise it will return a tuple of <code>(inst, retcode)</code>, where <code>inst</code> is the
application instance created internally by this function and <code>retcode</code> is the
exit code of the application.</p>
<p>.. note::
   Setting <code>exit</code> to <code>False</code> is intendend for testing/debugging purposes only -- do
   not override it in other situations.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="o">@</span><span class="n">classmethod</span>

    <span class="n">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">None</span><span class="p">,</span> <span class="k">exit</span><span class="o">=</span><span class="no">True</span><span class="p">):</span>  <span class="c1"># @ReservedAssignment</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        Runs the application, taking the arguments from ``sys.argv`` by default if</span>

<span class="s2">        nothing is passed. If ``exit`` is</span>

<span class="s2">        ``True`` (the default), the function will exit with the appropriate return code;</span>

<span class="s2">        otherwise it will return a tuple of ``(inst, retcode)``, where ``inst`` is the</span>

<span class="s2">        application instance created internally by this function and ``retcode`` is the</span>

<span class="s2">        exit code of the application.</span>

<span class="s2">        .. note::</span>

<span class="s2">           Setting ``exit`` to ``False`` is intendend for testing/debugging purposes only -- do</span>

<span class="s2">           not override it in other situations.</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">argv</span> <span class="k">is</span> <span class="n">None</span><span class="p">:</span>

            <span class="n">argv</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span>

        <span class="n">cls</span><span class="p">.</span><span class="nf">autocomplete</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

        <span class="n">argv</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

        <span class="n">inst</span> <span class="o">=</span> <span class="nf">cls</span><span class="p">(</span><span class="n">argv</span><span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

        <span class="n">retcode</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">try</span><span class="p">:</span>

            <span class="n">swfuncs</span><span class="p">,</span> <span class="n">tailargs</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">_parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

            <span class="n">ordered</span><span class="p">,</span> <span class="n">tailargs</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">_validate_args</span><span class="p">(</span><span class="n">swfuncs</span><span class="p">,</span> <span class="n">tailargs</span><span class="p">)</span>

        <span class="n">except</span> <span class="n">ShowHelp</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">help</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">ShowHelpAll</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">helpall</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">ShowVersion</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">version</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">SwitchError</span><span class="p">:</span>

            <span class="n">ex</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="nf">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># compatibility with python 2.5</span>

            <span class="nf">print</span><span class="p">(</span><span class="nf">T_</span><span class="p">(</span><span class="s2">&quot;Error: {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>

            <span class="nf">print</span><span class="p">(</span><span class="nf">T_</span><span class="p">(</span><span class="s2">&quot;------&quot;</span><span class="p">))</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">help</span><span class="p">()</span>

            <span class="n">retcode</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">a</span> <span class="k">in</span> <span class="n">ordered</span><span class="p">:</span>

                <span class="nf">f</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span> <span class="o">*</span><span class="n">a</span><span class="p">)</span>

            <span class="n">cleanup</span> <span class="o">=</span> <span class="n">None</span>

            <span class="k">if</span> <span class="k">not</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span> <span class="k">or</span> <span class="n">inst</span><span class="p">.</span><span class="n">CALL_MAIN_IF_NESTED_COMMAND</span><span class="p">:</span>

                <span class="n">retcode</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">main</span><span class="p">(</span><span class="o">*</span><span class="n">tailargs</span><span class="p">)</span>

                <span class="n">cleanup</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nf">partial</span><span class="p">(</span><span class="n">inst</span><span class="p">.</span><span class="n">cleanup</span><span class="p">,</span> <span class="n">retcode</span><span class="p">)</span>

            <span class="k">if</span> <span class="k">not</span> <span class="n">retcode</span> <span class="k">and</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="p">:</span>

                <span class="n">subapp</span><span class="p">,</span> <span class="n">argv</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span>

                <span class="n">subapp</span><span class="p">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">inst</span>

                <span class="n">inst</span><span class="p">,</span> <span class="n">retcode</span> <span class="o">=</span> <span class="n">subapp</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span> <span class="k">exit</span><span class="o">=</span><span class="no">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">cleanup</span><span class="p">:</span>

                <span class="nf">cleanup</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">retcode</span> <span class="k">is</span> <span class="n">None</span><span class="p">:</span>

                <span class="n">retcode</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="k">exit</span><span class="p">:</span>

            <span class="n">sys</span><span class="p">.</span><span class="k">exit</span><span class="p">(</span><span class="n">retcode</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">inst</span><span class="p">,</span> <span class="n">retcode</span>
</code></pre></div>


</details>
<h5 id="subcommand">subcommand</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">subcommand</span><span class="p">(</span>
    <span class="n">name</span><span class="p">,</span>
    <span class="n">subapp</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>


<p>Registers the given sub-application as a sub-command of this one. This method can be
used both as a decorator and as a normal <code>classmethod</code>::</p>
<div class="codehilite"><pre><span></span><code><span class="err">@MyApp.subcommand(&quot;foo&quot;)</span>
<span class="err">class FooApp(cli.Application):</span>
<span class="err">    pass</span>
</code></pre></div>


<p>Or ::</p>
<div class="codehilite"><pre><span></span><code><span class="err">MyApp.subcommand(&quot;foo&quot;, FooApp)</span>
</code></pre></div>


<p>.. versionadded:: 1.1</p>
<p>.. versionadded:: 1.3
    The sub-command can also be a string, in which case it is treated as a
    fully-qualified class name and is imported on demand. For example,</p>
<div class="codehilite"><pre><span></span><code><span class="err">MyApp.subcommand(&quot;foo&quot;, &quot;fully.qualified.package.FooApp&quot;)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="o">@</span><span class="n">classmethod</span>

    <span class="n">def</span> <span class="nf">subcommand</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">subapp</span><span class="o">=</span><span class="n">None</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;Registers the given sub-application as a sub-command of this one. This method can be</span>

<span class="s2">        used both as a decorator and as a normal ``classmethod``::</span>

<span class="s2">            @MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;)</span>

<span class="s2">            class FooApp(cli.Application):</span>

<span class="s2">                pass</span>

<span class="s2">        Or ::</span>

<span class="s2">            MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;, FooApp)</span>

<span class="s2">        .. versionadded:: 1.1</span>

<span class="s2">        .. versionadded:: 1.3</span>

<span class="s2">            The sub-command can also be a string, in which case it is treated as a</span>

<span class="s2">            fully-qualified class name and is imported on demand. For example,</span>

<span class="s2">            MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;, &quot;</span><span class="n">fully</span><span class="p">.</span><span class="n">qualified</span><span class="p">.</span><span class="n">package</span><span class="p">.</span><span class="n">FooApp</span><span class="s2">&quot;)</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">subapp</span><span class="p">):</span>

            <span class="n">attrname</span> <span class="o">=</span> <span class="s2">&quot;_subcommand_{0}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span>

                <span class="n">subapp</span> <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">subapp</span><span class="p">,</span> <span class="n">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">subapp</span><span class="p">.</span><span class="n">__name__</span><span class="p">)</span>

            <span class="nf">setattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">attrname</span><span class="p">,</span> <span class="nf">Subcommand</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">subapp</span><span class="p">))</span>

            <span class="k">return</span> <span class="n">subapp</span>

        <span class="k">return</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">subapp</span><span class="p">)</span> <span class="k">if</span> <span class="n">subapp</span> <span class="k">else</span> <span class="n">wrapper</span>
</code></pre></div>


</details>
<h5 id="unbind_switches">unbind_switches</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unbind_switches</span><span class="p">(</span>
    <span class="o">*</span><span class="n">switch_names</span>
<span class="p">)</span>
</code></pre></div>


<p>Unbinds the given switch names from this application. For example</p>
<p>::</p>
<div class="codehilite"><pre><span></span><code><span class="err">class MyApp(cli.Application):</span>
<span class="err">    pass</span>
<span class="err">MyApp.unbind_switches(&quot;--version&quot;)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">unbind_switches</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">switch_names</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Unbinds the given switch names from this application. For example</span>

<span class="ss">        ::</span>

<span class="ss">            class MyApp(cli.Application):</span>

<span class="ss">                pass</span>

<span class="ss">            MyApp.unbind_switches(&quot;</span><span class="c1">--version&quot;)</span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        cls._unbound_switches += tuple(</span>

<span class="ss">            name.lstrip(&quot;</span><span class="o">-</span><span class="err">&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_names</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"></span>
</code></pre></div>


</details>
<h4 id="instance-variables">Instance variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">root_app</span>
</code></pre></div>


<h4 id="methods">Methods</h4>
<h5 id="cleanup">cleanup</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">retcode</span>
<span class="p">)</span>
</code></pre></div>


<p>Called after <code>main()</code> and all sub-applications have executed, to perform any necessary cleanup.</p>
<p>:param retcode: the return code of <code>main()</code></p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cleanup</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">retcode</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;Called after ``main()`` and all sub-applications have executed, to perform any necessary cleanup.</span>

<span class="ss">        :param retcode: the return code of ``main()``</span>

<span class="ss">        &quot;&quot;&quot;</span>
</code></pre></div>


</details>
<h5 id="help">help</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">help</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints this help message and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;-h&quot;, &quot;--help&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints this help message and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">help</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints this help message and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_prog_version</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">version</span><span class="p">()</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">DESCRIPTION</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">split_indentation</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Identifies the initial indentation (all spaces) of the string and returns the indentation as well</span>

<span class="ss">            as the remainder of the line.</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">:i</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">i:</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">paragraphs</span><span class="p">(</span><span class="nc">text</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Yields each paragraph of text along with its initial and subsequent indentations to be used by</span>

<span class="ss">            textwrap.TextWrapper.</span>

<span class="ss">            Identifies list items from their first non-space character being one of bullets &#39;-&#39;, &#39;*&#39;, and &#39;/&#39;.</span>

<span class="ss">            However, bullet &#39;/&#39; is invisible and is removed from the list item.</span>

<span class="ss">            :param text: The text to separate into paragraphs</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">            </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">def</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="ss">&quot;&quot;&quot;Yields the current result if present.</span>

<span class="ss">                &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">paragraph</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">paragraph</span><span class="p">,</span><span class="w"> </span><span class="n">initial_indent</span><span class="p">,</span><span class="w"> </span><span class="n">subsequent_indent</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">text</span><span class="p">.</span><span class="n">lstrip</span><span class="p">(</span><span class="ss">&quot;\n&quot;</span><span class="p">).</span><span class="n">split</span><span class="p">(</span><span class="ss">&quot;\n&quot;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">indent</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split_indentation</span><span class="p">(</span><span class="n">part</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="n">Starting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">                    </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="n">Adding</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                    </span><span class="n">def</span><span class="w"> </span><span class="n">is_list_item</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;&quot;&quot;Returns true if the first element of &#39;line&#39; is a bullet character.</span>

<span class="ss">                        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                        </span><span class="n">bullets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&#39;-&#39;, &#39;*&#39;, &#39;/&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">bullets</span><span class="w"></span>

<span class="w">                    </span><span class="n">def</span><span class="w"> </span><span class="n">has_invisible_bullet</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;&quot;&quot;Returns true if the first element of &#39;line&#39; is the invisible bullet (&#39;/&#39;).</span>

<span class="ss">                        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">is_list_item</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="err">#</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                        </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="n">has_invisible_bullet</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="w"></span>

<span class="w">                        </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                        </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                        </span><span class="err">#</span><span class="w"> </span><span class="n">Calculate</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">indentation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">subsequent</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                        </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">                        </span><span class="k">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">                        </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nl">paragraph</span><span class="p">:</span><span class="w"></span>

<span class="w">                            </span><span class="err">#</span><span class="w"> </span><span class="k">Start</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                            </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                            </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="err">#</span><span class="w"> </span><span class="k">Add</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paragraph</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">wrapped_paragraphs</span><span class="p">(</span><span class="nc">text</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Yields each line of each paragraph of text after wrapping them on &#39;width&#39; number of columns.</span>

<span class="ss">            :param text: The text to yield wrapped lines of</span>

<span class="ss">            :param width: The width of the wrapped output</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nc">text</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">return</span><span class="w"></span>

<span class="w">            </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">paragraph</span><span class="p">,</span><span class="w"> </span><span class="n">initial_indent</span><span class="p">,</span><span class="w"> </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">paragraphs</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="nc">text</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextWrapper</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="n">width</span><span class="p">,</span><span class="w"></span>

<span class="w">                    </span><span class="n">initial_indent</span><span class="o">=</span><span class="n">initial_indent</span><span class="p">,</span><span class="w"></span>

<span class="w">                    </span><span class="n">subsequent_indent</span><span class="o">=</span><span class="n">subsequent_indent</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">paragraph</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">w</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_terminal_size</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">wrapped_paragraphs</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">DESCRIPTION_MORE</span><span class="p">,</span><span class="w"> </span><span class="n">cols</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">six</span><span class="p">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">main</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">skip</span><span class="w"> </span><span class="n">self</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="nl">defaults</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">reversed</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">defaults</span><span class="p">))</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">tailargs</span><span class="o">[</span><span class="n">-i - 1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;[{0}={1}]&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">tailargs</span><span class="o">[</span><span class="n">-i - 1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="nl">varargs</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">tailargs</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="ss">&quot;{0}...&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">varargs</span><span class="p">,</span><span class="w"> </span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">tailargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">COLOR_USAGE</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;Usage:&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;    {progname} [SWITCHES] [SUBCOMMAND [SWITCHES]] {tailargs}\n&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;    {progname} [SWITCHES] {tailargs}\n&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="n">progname</span><span class="o">=</span><span class="n">colors</span><span class="p">.</span><span class="k">filter</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">),</span><span class="w"> </span><span class="n">tailargs</span><span class="o">=</span><span class="n">tailargs</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">by_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_func</span><span class="p">.</span><span class="k">values</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">by_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">by_groups</span><span class="o">[</span><span class="n">si.group</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">            </span><span class="n">by_groups</span><span class="o">[</span><span class="n">si.group</span><span class="o">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">si</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="n">show_groups</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">grp</span><span class="p">,</span><span class="w"> </span><span class="n">swinfos</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="n">by_groups</span><span class="p">.</span><span class="n">items</span><span class="p">(),</span><span class="w"> </span><span class="k">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="nl">item</span><span class="p">:</span><span class="w"> </span><span class="n">item</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">show_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">lgrp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="n">grp</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">grp</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">_switch_groups</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">grp</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">grp</span><span class="o">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lgrp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">swinfos</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="nl">si</span><span class="p">:</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">names</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">swnames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="w"></span>

<span class="w">                                        </span><span class="k">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">names</span><span class="w"></span>

<span class="w">                                        </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_name</span><span class="w"></span>

<span class="w">                                        </span><span class="ow">and</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_name</span><span class="o">[</span><span class="n">n</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">si</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="nl">argtype</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="n">hasattr</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;__name__&#39;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">typename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">.</span><span class="n">__name__</span><span class="w"></span>

<span class="w">                        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">typename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">str</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">)</span><span class="w"></span>

<span class="w">                        </span><span class="n">argtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; {0}:{1}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argname</span><span class="p">.</span><span class="nf">upper</span><span class="p">(),</span><span class="w"></span>

<span class="w">                                                    </span><span class="n">typename</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">argtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="k">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">swnames</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">argtype</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">si</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">grp</span><span class="o">]</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">show_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">sw_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="w"></span>

<span class="w">            </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="k">False</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>

<span class="w">        </span><span class="n">description_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;    {0}{1}{2}&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextWrapper</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="nf">max</span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">sw_width</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">),</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">indentation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;\n&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">switch_info</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="k">True</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">help</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">list</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; may be given multiple times&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">mandatory</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; required&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">requires</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; requires {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">switch</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">switch</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">requires</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">excludes</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; excludes {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">switch</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">switch</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">excludes</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">l</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">help</span><span class="p">.</span><span class="n">splitlines</span><span class="p">())))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nl">cols</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="w"></span>

<span class="w">            </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">description_indent</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">color</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">padding</span><span class="p">,</span><span class="w"></span>

<span class="w">                                            </span><span class="n">color</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">msg</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">gc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">&quot;Subcommands&quot;</span><span class="o">]</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">gc</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;Sub-commands:&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">subcls</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_subcommands</span><span class="p">.</span><span class="n">items</span><span class="p">())</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">with</span><span class="w"> </span><span class="nl">gc</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">subapp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subcls</span><span class="p">.</span><span class="k">get</span><span class="p">()</span><span class="w"></span>

<span class="w">                    </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">getdoc</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">subapp</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">SUBCOMMAND_HELPMSG</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot;; &quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">SUBCOMMAND_HELPMSG</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">parent</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">sub</span><span class="o">=</span><span class="n">name</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">                    </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">l</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">help</span><span class="p">.</span><span class="n">splitlines</span><span class="p">())))</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nl">cols</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="n">contains_colors</span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="k">extract</span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gc</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="n">description_indent</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">padding</span><span class="p">,</span><span class="w"> </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="k">filter</span><span class="p">(</span><span class="n">msg</span><span class="p">)))</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="helpall">helpall</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">helpall</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints help messages of all sub-commands and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;--help-all&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints help messages of all sub-commands and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">helpall</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints help messages of all sub-commands and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">help</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">subcls</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_subcommands</span><span class="p">.</span><span class="n">items</span><span class="p">())</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="k">get</span><span class="p">())(</span><span class="ss">&quot;{0} {1}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">))</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="p">.</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">_switches_by_func</span><span class="p">.</span><span class="k">values</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Meta-switches&quot;</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Hidden-switches&quot;</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="p">.</span><span class="n">helpall</span><span class="p">()</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="main">main</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Implement me (no need to call super)</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">main</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="k">not</span> <span class="k">self</span><span class="p">.</span><span class="n">nested_command</span><span class="p">:</span>

            <span class="k">self</span><span class="p">.</span><span class="n">help</span><span class="p">()</span>
</code></pre></div>


</details>
<h5 id="version">version</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">version</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints the program's version and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;-v&quot;, &quot;--version&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints the program&#39;s version and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">version</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints the program&#39;s version and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">ver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_prog_version</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="n">ver_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ver</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">ver</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;(version not set)&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;{0} {1}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">ver_name</span><span class="p">))</span><span class="w"></span>
</code></pre></div>


</details>
<h3 id="bbexperimentshow">BBExperimentShow</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">BBExperimentShow</span><span class="p">(</span>
    <span class="n">executable</span>
<span class="p">)</span>
</code></pre></div>


<p>Show completed experiments.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">BBExperimentShow</span>(<span class="n">cli</span>.<span class="n">Application</span>):

    <span class="s">&quot;&quot;&quot;Show completed experiments.&quot;&quot;&quot;</span>

    <span class="n">def</span> <span class="n">main</span>(<span class="nb">self</span>):

        <span class="n">def</span> <span class="n">maybe_exit</span>(<span class="nb">key</span>):

            <span class="k">if</span> <span class="nb">key</span> <span class="nb">in</span> (<span class="s">&#39;q&#39;</span>, <span class="s">&#39;Q&#39;</span>):

                <span class="n">raise</span> <span class="n">urwid</span>.<span class="n">ExitMainLoop</span>()

        <span class="c1"># yapf: disable</span>

        <span class="n">palette</span> = [(<span class="n">None</span>, <span class="s">&#39;light gray&#39;</span>, <span class="s">&#39;black&#39;</span>),

                   (<span class="s">&#39;heading&#39;</span>, <span class="s">&#39;black&#39;</span>, <span class="s">&#39;light gray&#39;</span>),

                   (<span class="s">&#39;line&#39;</span>, <span class="s">&#39;black&#39;</span>, <span class="s">&#39;light gray&#39;</span>),

                   (<span class="s">&#39;options&#39;</span>, <span class="s">&#39;dark gray&#39;</span>, <span class="s">&#39;black&#39;</span>),

                   (<span class="s">&#39;focus heading&#39;</span>, <span class="s">&#39;white&#39;</span>, <span class="s">&#39;dark red&#39;</span>),

                   (<span class="s">&#39;focus line&#39;</span>, <span class="s">&#39;black&#39;</span>, <span class="s">&#39;dark red&#39;</span>),

                   (<span class="s">&#39;focus options&#39;</span>, <span class="s">&#39;black&#39;</span>, <span class="s">&#39;light gray&#39;</span>),

                   (<span class="s">&#39;selected&#39;</span>, <span class="s">&#39;white&#39;</span>, <span class="s">&#39;dark blue&#39;</span>)]

        <span class="c1"># yapf: enable</span>

        <span class="n">top</span> = <span class="n">HorizontalBoxes</span>()

        <span class="n">top</span>.<span class="n">open_box</span>(<span class="n">refresh_root_window</span>(<span class="n">top</span>))

        <span class="k">loop</span> = <span class="n">urwid</span>.<span class="n">MainLoop</span>(<span class="n">urwid</span>.<span class="n">Filler</span>(<span class="n">top</span>, <span class="s">&#39;top&#39;</span>, <span class="n">height</span>=<span class="mi">48</span>),

                              <span class="n">palette</span>=<span class="n">palette</span>,

                              <span class="n">unhandled_input</span>=<span class="n">maybe_exit</span>)

        <span class="k">loop</span>.<span class="nb">run</span>()
</code></pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro_1">Ancestors (in MRO)</h4>
<ul>
<li>plumbum.cli.application.Application</li>
</ul>
<h4 id="class-variables_1">Class variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">ALLOW_ABBREV</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">CALL_MAIN_IF_NESTED_COMMAND</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">COLOR_GROUPS</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">COLOR_USAGE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">DESCRIPTION</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">DESCRIPTION_MORE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">PROGNAME</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">SUBCOMMAND_HELPMSG</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">USAGE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">VERSION</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">nested_command</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">parent</span>
</code></pre></div>


<h4 id="static-methods_1">Static methods</h4>
<h5 id="autocomplete_1">autocomplete</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">autocomplete</span><span class="p">(</span>
    <span class="n">argv</span>
<span class="p">)</span>
</code></pre></div>


<p>This is supplied to make subclassing and testing argument completion methods easier</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">autocomplete</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;This is supplied to make subclassing and testing argument completion methods easier&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">pass</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="invoke_1">invoke</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="o">**</span><span class="n">switches</span>
<span class="p">)</span>
</code></pre></div>


<p>Invoke this application programmatically (as a function), in the same way <code>run()</code>
would. There are two key differences: the return value of <code>main()</code> is not converted to
an integer (returned as-is), and exceptions are not swallowed either.</p>
<p>:param args: any positional arguments for <code>main()</code>
:param switches: command-line switches are passed as keyword arguments,
                 e.g., <code>foo=5</code> for <code>--foo=5</code></p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">invoke</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">switches</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Invoke this application programmatically (as a function), in the same way ``run()``</span>

<span class="ss">        would. There are two key differences: the return value of ``main()`` is not converted to</span>

<span class="ss">        an integer (returned as-is), and exceptions are not swallowed either.</span>

<span class="ss">        :param args: any positional arguments for ``main()``</span>

<span class="ss">        :param switches: command-line switches are passed as keyword arguments,</span>

<span class="ss">                         e.g., ``foo=5`` for ``--foo=5``</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">inst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cls</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">swfuncs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">_parse_kwd_args</span><span class="p">(</span><span class="n">switches</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">ordered</span><span class="p">,</span><span class="w"> </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">_validate_args</span><span class="p">(</span><span class="n">swfuncs</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">ordered</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">f</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">cleanup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="nl">CALL_MAIN_IF_NESTED_COMMAND</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">retcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">main</span><span class="p">(</span><span class="o">*</span><span class="n">tailargs</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">cleanup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">functools</span><span class="p">.</span><span class="k">partial</span><span class="p">(</span><span class="n">inst</span><span class="p">.</span><span class="n">cleanup</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">retcode</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="nl">nested_command</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">subapp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="w"></span>

<span class="w">            </span><span class="n">subapp</span><span class="p">.</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="w"></span>

<span class="w">            </span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="k">exit</span><span class="o">=</span><span class="k">False</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">cleanup</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">cleanup</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="run_1">run</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">exit</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>


<p>Runs the application, taking the arguments from <code>sys.argv</code> by default if
nothing is passed. If <code>exit</code> is
<code>True</code> (the default), the function will exit with the appropriate return code;
otherwise it will return a tuple of <code>(inst, retcode)</code>, where <code>inst</code> is the
application instance created internally by this function and <code>retcode</code> is the
exit code of the application.</p>
<p>.. note::
   Setting <code>exit</code> to <code>False</code> is intendend for testing/debugging purposes only -- do
   not override it in other situations.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="o">@</span><span class="n">classmethod</span>

    <span class="n">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">None</span><span class="p">,</span> <span class="k">exit</span><span class="o">=</span><span class="no">True</span><span class="p">):</span>  <span class="c1"># @ReservedAssignment</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        Runs the application, taking the arguments from ``sys.argv`` by default if</span>

<span class="s2">        nothing is passed. If ``exit`` is</span>

<span class="s2">        ``True`` (the default), the function will exit with the appropriate return code;</span>

<span class="s2">        otherwise it will return a tuple of ``(inst, retcode)``, where ``inst`` is the</span>

<span class="s2">        application instance created internally by this function and ``retcode`` is the</span>

<span class="s2">        exit code of the application.</span>

<span class="s2">        .. note::</span>

<span class="s2">           Setting ``exit`` to ``False`` is intendend for testing/debugging purposes only -- do</span>

<span class="s2">           not override it in other situations.</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">argv</span> <span class="k">is</span> <span class="n">None</span><span class="p">:</span>

            <span class="n">argv</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span>

        <span class="n">cls</span><span class="p">.</span><span class="nf">autocomplete</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

        <span class="n">argv</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

        <span class="n">inst</span> <span class="o">=</span> <span class="nf">cls</span><span class="p">(</span><span class="n">argv</span><span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

        <span class="n">retcode</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">try</span><span class="p">:</span>

            <span class="n">swfuncs</span><span class="p">,</span> <span class="n">tailargs</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">_parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

            <span class="n">ordered</span><span class="p">,</span> <span class="n">tailargs</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">_validate_args</span><span class="p">(</span><span class="n">swfuncs</span><span class="p">,</span> <span class="n">tailargs</span><span class="p">)</span>

        <span class="n">except</span> <span class="n">ShowHelp</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">help</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">ShowHelpAll</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">helpall</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">ShowVersion</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">version</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">SwitchError</span><span class="p">:</span>

            <span class="n">ex</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="nf">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># compatibility with python 2.5</span>

            <span class="nf">print</span><span class="p">(</span><span class="nf">T_</span><span class="p">(</span><span class="s2">&quot;Error: {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>

            <span class="nf">print</span><span class="p">(</span><span class="nf">T_</span><span class="p">(</span><span class="s2">&quot;------&quot;</span><span class="p">))</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">help</span><span class="p">()</span>

            <span class="n">retcode</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">a</span> <span class="k">in</span> <span class="n">ordered</span><span class="p">:</span>

                <span class="nf">f</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span> <span class="o">*</span><span class="n">a</span><span class="p">)</span>

            <span class="n">cleanup</span> <span class="o">=</span> <span class="n">None</span>

            <span class="k">if</span> <span class="k">not</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span> <span class="k">or</span> <span class="n">inst</span><span class="p">.</span><span class="n">CALL_MAIN_IF_NESTED_COMMAND</span><span class="p">:</span>

                <span class="n">retcode</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">main</span><span class="p">(</span><span class="o">*</span><span class="n">tailargs</span><span class="p">)</span>

                <span class="n">cleanup</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nf">partial</span><span class="p">(</span><span class="n">inst</span><span class="p">.</span><span class="n">cleanup</span><span class="p">,</span> <span class="n">retcode</span><span class="p">)</span>

            <span class="k">if</span> <span class="k">not</span> <span class="n">retcode</span> <span class="k">and</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="p">:</span>

                <span class="n">subapp</span><span class="p">,</span> <span class="n">argv</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span>

                <span class="n">subapp</span><span class="p">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">inst</span>

                <span class="n">inst</span><span class="p">,</span> <span class="n">retcode</span> <span class="o">=</span> <span class="n">subapp</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span> <span class="k">exit</span><span class="o">=</span><span class="no">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">cleanup</span><span class="p">:</span>

                <span class="nf">cleanup</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">retcode</span> <span class="k">is</span> <span class="n">None</span><span class="p">:</span>

                <span class="n">retcode</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="k">exit</span><span class="p">:</span>

            <span class="n">sys</span><span class="p">.</span><span class="k">exit</span><span class="p">(</span><span class="n">retcode</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">inst</span><span class="p">,</span> <span class="n">retcode</span>
</code></pre></div>


</details>
<h5 id="subcommand_1">subcommand</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">subcommand</span><span class="p">(</span>
    <span class="n">name</span><span class="p">,</span>
    <span class="n">subapp</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>


<p>Registers the given sub-application as a sub-command of this one. This method can be
used both as a decorator and as a normal <code>classmethod</code>::</p>
<div class="codehilite"><pre><span></span><code><span class="err">@MyApp.subcommand(&quot;foo&quot;)</span>
<span class="err">class FooApp(cli.Application):</span>
<span class="err">    pass</span>
</code></pre></div>


<p>Or ::</p>
<div class="codehilite"><pre><span></span><code><span class="err">MyApp.subcommand(&quot;foo&quot;, FooApp)</span>
</code></pre></div>


<p>.. versionadded:: 1.1</p>
<p>.. versionadded:: 1.3
    The sub-command can also be a string, in which case it is treated as a
    fully-qualified class name and is imported on demand. For example,</p>
<div class="codehilite"><pre><span></span><code><span class="err">MyApp.subcommand(&quot;foo&quot;, &quot;fully.qualified.package.FooApp&quot;)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="o">@</span><span class="n">classmethod</span>

    <span class="n">def</span> <span class="nf">subcommand</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">subapp</span><span class="o">=</span><span class="n">None</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;Registers the given sub-application as a sub-command of this one. This method can be</span>

<span class="s2">        used both as a decorator and as a normal ``classmethod``::</span>

<span class="s2">            @MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;)</span>

<span class="s2">            class FooApp(cli.Application):</span>

<span class="s2">                pass</span>

<span class="s2">        Or ::</span>

<span class="s2">            MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;, FooApp)</span>

<span class="s2">        .. versionadded:: 1.1</span>

<span class="s2">        .. versionadded:: 1.3</span>

<span class="s2">            The sub-command can also be a string, in which case it is treated as a</span>

<span class="s2">            fully-qualified class name and is imported on demand. For example,</span>

<span class="s2">            MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;, &quot;</span><span class="n">fully</span><span class="p">.</span><span class="n">qualified</span><span class="p">.</span><span class="n">package</span><span class="p">.</span><span class="n">FooApp</span><span class="s2">&quot;)</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">subapp</span><span class="p">):</span>

            <span class="n">attrname</span> <span class="o">=</span> <span class="s2">&quot;_subcommand_{0}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span>

                <span class="n">subapp</span> <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">subapp</span><span class="p">,</span> <span class="n">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">subapp</span><span class="p">.</span><span class="n">__name__</span><span class="p">)</span>

            <span class="nf">setattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">attrname</span><span class="p">,</span> <span class="nf">Subcommand</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">subapp</span><span class="p">))</span>

            <span class="k">return</span> <span class="n">subapp</span>

        <span class="k">return</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">subapp</span><span class="p">)</span> <span class="k">if</span> <span class="n">subapp</span> <span class="k">else</span> <span class="n">wrapper</span>
</code></pre></div>


</details>
<h5 id="unbind_switches_1">unbind_switches</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unbind_switches</span><span class="p">(</span>
    <span class="o">*</span><span class="n">switch_names</span>
<span class="p">)</span>
</code></pre></div>


<p>Unbinds the given switch names from this application. For example</p>
<p>::</p>
<div class="codehilite"><pre><span></span><code><span class="err">class MyApp(cli.Application):</span>
<span class="err">    pass</span>
<span class="err">MyApp.unbind_switches(&quot;--version&quot;)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">unbind_switches</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">switch_names</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Unbinds the given switch names from this application. For example</span>

<span class="ss">        ::</span>

<span class="ss">            class MyApp(cli.Application):</span>

<span class="ss">                pass</span>

<span class="ss">            MyApp.unbind_switches(&quot;</span><span class="c1">--version&quot;)</span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        cls._unbound_switches += tuple(</span>

<span class="ss">            name.lstrip(&quot;</span><span class="o">-</span><span class="err">&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_names</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"></span>
</code></pre></div>


</details>
<h4 id="instance-variables_1">Instance variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">root_app</span>
</code></pre></div>


<h4 id="methods_1">Methods</h4>
<h5 id="cleanup_1">cleanup</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">retcode</span>
<span class="p">)</span>
</code></pre></div>


<p>Called after <code>main()</code> and all sub-applications have executed, to perform any necessary cleanup.</p>
<p>:param retcode: the return code of <code>main()</code></p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cleanup</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">retcode</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;Called after ``main()`` and all sub-applications have executed, to perform any necessary cleanup.</span>

<span class="ss">        :param retcode: the return code of ``main()``</span>

<span class="ss">        &quot;&quot;&quot;</span>
</code></pre></div>


</details>
<h5 id="help_1">help</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">help</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints this help message and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;-h&quot;, &quot;--help&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints this help message and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">help</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints this help message and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_prog_version</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">version</span><span class="p">()</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">DESCRIPTION</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">split_indentation</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Identifies the initial indentation (all spaces) of the string and returns the indentation as well</span>

<span class="ss">            as the remainder of the line.</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">:i</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">i:</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">paragraphs</span><span class="p">(</span><span class="nc">text</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Yields each paragraph of text along with its initial and subsequent indentations to be used by</span>

<span class="ss">            textwrap.TextWrapper.</span>

<span class="ss">            Identifies list items from their first non-space character being one of bullets &#39;-&#39;, &#39;*&#39;, and &#39;/&#39;.</span>

<span class="ss">            However, bullet &#39;/&#39; is invisible and is removed from the list item.</span>

<span class="ss">            :param text: The text to separate into paragraphs</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">            </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">def</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="ss">&quot;&quot;&quot;Yields the current result if present.</span>

<span class="ss">                &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">paragraph</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">paragraph</span><span class="p">,</span><span class="w"> </span><span class="n">initial_indent</span><span class="p">,</span><span class="w"> </span><span class="n">subsequent_indent</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">text</span><span class="p">.</span><span class="n">lstrip</span><span class="p">(</span><span class="ss">&quot;\n&quot;</span><span class="p">).</span><span class="n">split</span><span class="p">(</span><span class="ss">&quot;\n&quot;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">indent</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split_indentation</span><span class="p">(</span><span class="n">part</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="n">Starting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">                    </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="n">Adding</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                    </span><span class="n">def</span><span class="w"> </span><span class="n">is_list_item</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;&quot;&quot;Returns true if the first element of &#39;line&#39; is a bullet character.</span>

<span class="ss">                        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                        </span><span class="n">bullets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&#39;-&#39;, &#39;*&#39;, &#39;/&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">bullets</span><span class="w"></span>

<span class="w">                    </span><span class="n">def</span><span class="w"> </span><span class="n">has_invisible_bullet</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;&quot;&quot;Returns true if the first element of &#39;line&#39; is the invisible bullet (&#39;/&#39;).</span>

<span class="ss">                        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">is_list_item</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="err">#</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                        </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="n">has_invisible_bullet</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="w"></span>

<span class="w">                        </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                        </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                        </span><span class="err">#</span><span class="w"> </span><span class="n">Calculate</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">indentation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">subsequent</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                        </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">                        </span><span class="k">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">                        </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nl">paragraph</span><span class="p">:</span><span class="w"></span>

<span class="w">                            </span><span class="err">#</span><span class="w"> </span><span class="k">Start</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                            </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                            </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="err">#</span><span class="w"> </span><span class="k">Add</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paragraph</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">wrapped_paragraphs</span><span class="p">(</span><span class="nc">text</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Yields each line of each paragraph of text after wrapping them on &#39;width&#39; number of columns.</span>

<span class="ss">            :param text: The text to yield wrapped lines of</span>

<span class="ss">            :param width: The width of the wrapped output</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nc">text</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">return</span><span class="w"></span>

<span class="w">            </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">paragraph</span><span class="p">,</span><span class="w"> </span><span class="n">initial_indent</span><span class="p">,</span><span class="w"> </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">paragraphs</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="nc">text</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextWrapper</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="n">width</span><span class="p">,</span><span class="w"></span>

<span class="w">                    </span><span class="n">initial_indent</span><span class="o">=</span><span class="n">initial_indent</span><span class="p">,</span><span class="w"></span>

<span class="w">                    </span><span class="n">subsequent_indent</span><span class="o">=</span><span class="n">subsequent_indent</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">paragraph</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">w</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_terminal_size</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">wrapped_paragraphs</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">DESCRIPTION_MORE</span><span class="p">,</span><span class="w"> </span><span class="n">cols</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">six</span><span class="p">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">main</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">skip</span><span class="w"> </span><span class="n">self</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="nl">defaults</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">reversed</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">defaults</span><span class="p">))</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">tailargs</span><span class="o">[</span><span class="n">-i - 1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;[{0}={1}]&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">tailargs</span><span class="o">[</span><span class="n">-i - 1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="nl">varargs</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">tailargs</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="ss">&quot;{0}...&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">varargs</span><span class="p">,</span><span class="w"> </span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">tailargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">COLOR_USAGE</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;Usage:&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;    {progname} [SWITCHES] [SUBCOMMAND [SWITCHES]] {tailargs}\n&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;    {progname} [SWITCHES] {tailargs}\n&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="n">progname</span><span class="o">=</span><span class="n">colors</span><span class="p">.</span><span class="k">filter</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">),</span><span class="w"> </span><span class="n">tailargs</span><span class="o">=</span><span class="n">tailargs</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">by_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_func</span><span class="p">.</span><span class="k">values</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">by_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">by_groups</span><span class="o">[</span><span class="n">si.group</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">            </span><span class="n">by_groups</span><span class="o">[</span><span class="n">si.group</span><span class="o">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">si</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="n">show_groups</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">grp</span><span class="p">,</span><span class="w"> </span><span class="n">swinfos</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="n">by_groups</span><span class="p">.</span><span class="n">items</span><span class="p">(),</span><span class="w"> </span><span class="k">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="nl">item</span><span class="p">:</span><span class="w"> </span><span class="n">item</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">show_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">lgrp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="n">grp</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">grp</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">_switch_groups</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">grp</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">grp</span><span class="o">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lgrp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">swinfos</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="nl">si</span><span class="p">:</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">names</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">swnames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="w"></span>

<span class="w">                                        </span><span class="k">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">names</span><span class="w"></span>

<span class="w">                                        </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_name</span><span class="w"></span>

<span class="w">                                        </span><span class="ow">and</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_name</span><span class="o">[</span><span class="n">n</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">si</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="nl">argtype</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="n">hasattr</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;__name__&#39;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">typename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">.</span><span class="n">__name__</span><span class="w"></span>

<span class="w">                        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">typename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">str</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">)</span><span class="w"></span>

<span class="w">                        </span><span class="n">argtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; {0}:{1}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argname</span><span class="p">.</span><span class="nf">upper</span><span class="p">(),</span><span class="w"></span>

<span class="w">                                                    </span><span class="n">typename</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">argtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="k">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">swnames</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">argtype</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">si</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">grp</span><span class="o">]</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">show_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">sw_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="w"></span>

<span class="w">            </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="k">False</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>

<span class="w">        </span><span class="n">description_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;    {0}{1}{2}&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextWrapper</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="nf">max</span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">sw_width</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">),</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">indentation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;\n&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">switch_info</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="k">True</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">help</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">list</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; may be given multiple times&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">mandatory</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; required&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">requires</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; requires {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">switch</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">switch</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">requires</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">excludes</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; excludes {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">switch</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">switch</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">excludes</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">l</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">help</span><span class="p">.</span><span class="n">splitlines</span><span class="p">())))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nl">cols</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="w"></span>

<span class="w">            </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">description_indent</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">color</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">padding</span><span class="p">,</span><span class="w"></span>

<span class="w">                                            </span><span class="n">color</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">msg</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">gc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">&quot;Subcommands&quot;</span><span class="o">]</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">gc</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;Sub-commands:&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">subcls</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_subcommands</span><span class="p">.</span><span class="n">items</span><span class="p">())</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">with</span><span class="w"> </span><span class="nl">gc</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">subapp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subcls</span><span class="p">.</span><span class="k">get</span><span class="p">()</span><span class="w"></span>

<span class="w">                    </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">getdoc</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">subapp</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">SUBCOMMAND_HELPMSG</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot;; &quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">SUBCOMMAND_HELPMSG</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">parent</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">sub</span><span class="o">=</span><span class="n">name</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">                    </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">l</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">help</span><span class="p">.</span><span class="n">splitlines</span><span class="p">())))</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nl">cols</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="n">contains_colors</span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="k">extract</span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gc</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="n">description_indent</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">padding</span><span class="p">,</span><span class="w"> </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="k">filter</span><span class="p">(</span><span class="n">msg</span><span class="p">)))</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="helpall_1">helpall</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">helpall</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints help messages of all sub-commands and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;--help-all&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints help messages of all sub-commands and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">helpall</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints help messages of all sub-commands and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">help</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">subcls</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_subcommands</span><span class="p">.</span><span class="n">items</span><span class="p">())</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="k">get</span><span class="p">())(</span><span class="ss">&quot;{0} {1}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">))</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="p">.</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">_switches_by_func</span><span class="p">.</span><span class="k">values</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Meta-switches&quot;</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Hidden-switches&quot;</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="p">.</span><span class="n">helpall</span><span class="p">()</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="main_1">main</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Implement me (no need to call super)</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">main</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="n">def</span> <span class="n">maybe_exit</span><span class="p">(</span><span class="k">key</span><span class="p">):</span>

            <span class="k">if</span> <span class="k">key</span> <span class="k">in</span> <span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">):</span>

                <span class="n">raise</span> <span class="n">urwid</span><span class="p">.</span><span class="n">ExitMainLoop</span><span class="p">()</span>

        <span class="o">#</span> <span class="n">yapf</span><span class="p">:</span> <span class="n">disable</span>

        <span class="n">palette</span> <span class="o">=</span> <span class="p">[(</span><span class="k">None</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;heading&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="s1">&#39;dark gray&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;focus heading&#39;</span><span class="p">,</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;dark red&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;focus line&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;dark red&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;focus options&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;light gray&#39;</span><span class="p">),</span>

                   <span class="p">(</span><span class="s1">&#39;selected&#39;</span><span class="p">,</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;dark blue&#39;</span><span class="p">)]</span>

        <span class="o">#</span> <span class="n">yapf</span><span class="p">:</span> <span class="n">enable</span>

        <span class="n">top</span> <span class="o">=</span> <span class="n">HorizontalBoxes</span><span class="p">()</span>

        <span class="n">top</span><span class="p">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">refresh_root_window</span><span class="p">(</span><span class="n">top</span><span class="p">))</span>

        <span class="n">loop</span> <span class="o">=</span> <span class="n">urwid</span><span class="p">.</span><span class="n">MainLoop</span><span class="p">(</span><span class="n">urwid</span><span class="p">.</span><span class="n">Filler</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">48</span><span class="p">),</span>

                              <span class="n">palette</span><span class="o">=</span><span class="n">palette</span><span class="p">,</span>

                              <span class="n">unhandled_input</span><span class="o">=</span><span class="n">maybe_exit</span><span class="p">)</span>

        <span class="n">loop</span><span class="p">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>


</details>
<h5 id="version_1">version</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">version</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints the program's version and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;-v&quot;, &quot;--version&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints the program&#39;s version and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">version</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints the program&#39;s version and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">ver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_prog_version</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="n">ver_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ver</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">ver</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;(version not set)&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;{0} {1}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">ver_name</span><span class="p">))</span><span class="w"></span>
</code></pre></div>


</details>
<h3 id="bbexperimentview">BBExperimentView</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">BBExperimentView</span><span class="p">(</span>
    <span class="n">executable</span>
<span class="p">)</span>
</code></pre></div>


<p>View available experiments.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">BBExperimentView</span>(<span class="n">cli</span>.<span class="n">Application</span>):

    <span class="s">&quot;&quot;&quot;View available experiments.&quot;&quot;&quot;</span>

    <span class="n">def</span> <span class="n">main</span>(<span class="nb">self</span>):

        <span class="n">experiments</span>.<span class="n">discover</span>()

        <span class="n">all_exps</span> = <span class="n">experiment</span>.<span class="n">ExperimentRegistry</span>.<span class="n">experiments</span>

        <span class="k">for</span> <span class="n">exp_cls</span> <span class="nb">in</span> <span class="n">all_exps</span>.<span class="nb">values</span>():

            <span class="nb">print</span>(<span class="n">exp_cls</span>.<span class="n">NAME</span>)

            <span class="n">docstring</span> = <span class="n">exp_cls</span>.<span class="n">__doc__</span> <span class="o">or</span> <span class="s">&quot;-- no docstring --&quot;</span>

            <span class="nb">print</span>((<span class="s">&quot;    &quot;</span> + <span class="n">docstring</span>))
</code></pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro_2">Ancestors (in MRO)</h4>
<ul>
<li>plumbum.cli.application.Application</li>
</ul>
<h4 id="class-variables_2">Class variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">ALLOW_ABBREV</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">CALL_MAIN_IF_NESTED_COMMAND</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">COLOR_GROUPS</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">COLOR_USAGE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">DESCRIPTION</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">DESCRIPTION_MORE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">PROGNAME</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">SUBCOMMAND_HELPMSG</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">USAGE</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">VERSION</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">nested_command</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">parent</span>
</code></pre></div>


<h4 id="static-methods_2">Static methods</h4>
<h5 id="autocomplete_2">autocomplete</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">autocomplete</span><span class="p">(</span>
    <span class="n">argv</span>
<span class="p">)</span>
</code></pre></div>


<p>This is supplied to make subclassing and testing argument completion methods easier</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">autocomplete</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;This is supplied to make subclassing and testing argument completion methods easier&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">pass</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="invoke_2">invoke</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="o">**</span><span class="n">switches</span>
<span class="p">)</span>
</code></pre></div>


<p>Invoke this application programmatically (as a function), in the same way <code>run()</code>
would. There are two key differences: the return value of <code>main()</code> is not converted to
an integer (returned as-is), and exceptions are not swallowed either.</p>
<p>:param args: any positional arguments for <code>main()</code>
:param switches: command-line switches are passed as keyword arguments,
                 e.g., <code>foo=5</code> for <code>--foo=5</code></p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">invoke</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">switches</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Invoke this application programmatically (as a function), in the same way ``run()``</span>

<span class="ss">        would. There are two key differences: the return value of ``main()`` is not converted to</span>

<span class="ss">        an integer (returned as-is), and exceptions are not swallowed either.</span>

<span class="ss">        :param args: any positional arguments for ``main()``</span>

<span class="ss">        :param switches: command-line switches are passed as keyword arguments,</span>

<span class="ss">                         e.g., ``foo=5`` for ``--foo=5``</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">inst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cls</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">swfuncs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">_parse_kwd_args</span><span class="p">(</span><span class="n">switches</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">ordered</span><span class="p">,</span><span class="w"> </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">_validate_args</span><span class="p">(</span><span class="n">swfuncs</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">ordered</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">f</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">cleanup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="nl">CALL_MAIN_IF_NESTED_COMMAND</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">retcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">main</span><span class="p">(</span><span class="o">*</span><span class="n">tailargs</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">cleanup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">functools</span><span class="p">.</span><span class="k">partial</span><span class="p">(</span><span class="n">inst</span><span class="p">.</span><span class="n">cleanup</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">retcode</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="nl">nested_command</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">subapp</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="w"></span>

<span class="w">            </span><span class="n">subapp</span><span class="p">.</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inst</span><span class="w"></span>

<span class="w">            </span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="k">exit</span><span class="o">=</span><span class="k">False</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">cleanup</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">cleanup</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="n">retcode</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="run_2">run</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">exit</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>


<p>Runs the application, taking the arguments from <code>sys.argv</code> by default if
nothing is passed. If <code>exit</code> is
<code>True</code> (the default), the function will exit with the appropriate return code;
otherwise it will return a tuple of <code>(inst, retcode)</code>, where <code>inst</code> is the
application instance created internally by this function and <code>retcode</code> is the
exit code of the application.</p>
<p>.. note::
   Setting <code>exit</code> to <code>False</code> is intendend for testing/debugging purposes only -- do
   not override it in other situations.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="o">@</span><span class="n">classmethod</span>

    <span class="n">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">None</span><span class="p">,</span> <span class="k">exit</span><span class="o">=</span><span class="no">True</span><span class="p">):</span>  <span class="c1"># @ReservedAssignment</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        Runs the application, taking the arguments from ``sys.argv`` by default if</span>

<span class="s2">        nothing is passed. If ``exit`` is</span>

<span class="s2">        ``True`` (the default), the function will exit with the appropriate return code;</span>

<span class="s2">        otherwise it will return a tuple of ``(inst, retcode)``, where ``inst`` is the</span>

<span class="s2">        application instance created internally by this function and ``retcode`` is the</span>

<span class="s2">        exit code of the application.</span>

<span class="s2">        .. note::</span>

<span class="s2">           Setting ``exit`` to ``False`` is intendend for testing/debugging purposes only -- do</span>

<span class="s2">           not override it in other situations.</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">argv</span> <span class="k">is</span> <span class="n">None</span><span class="p">:</span>

            <span class="n">argv</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span>

        <span class="n">cls</span><span class="p">.</span><span class="nf">autocomplete</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

        <span class="n">argv</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

        <span class="n">inst</span> <span class="o">=</span> <span class="nf">cls</span><span class="p">(</span><span class="n">argv</span><span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

        <span class="n">retcode</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">try</span><span class="p">:</span>

            <span class="n">swfuncs</span><span class="p">,</span> <span class="n">tailargs</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">_parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

            <span class="n">ordered</span><span class="p">,</span> <span class="n">tailargs</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">_validate_args</span><span class="p">(</span><span class="n">swfuncs</span><span class="p">,</span> <span class="n">tailargs</span><span class="p">)</span>

        <span class="n">except</span> <span class="n">ShowHelp</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">help</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">ShowHelpAll</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">helpall</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">ShowVersion</span><span class="p">:</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">version</span><span class="p">()</span>

        <span class="n">except</span> <span class="n">SwitchError</span><span class="p">:</span>

            <span class="n">ex</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="nf">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># compatibility with python 2.5</span>

            <span class="nf">print</span><span class="p">(</span><span class="nf">T_</span><span class="p">(</span><span class="s2">&quot;Error: {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>

            <span class="nf">print</span><span class="p">(</span><span class="nf">T_</span><span class="p">(</span><span class="s2">&quot;------&quot;</span><span class="p">))</span>

            <span class="n">inst</span><span class="p">.</span><span class="nf">help</span><span class="p">()</span>

            <span class="n">retcode</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">a</span> <span class="k">in</span> <span class="n">ordered</span><span class="p">:</span>

                <span class="nf">f</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span> <span class="o">*</span><span class="n">a</span><span class="p">)</span>

            <span class="n">cleanup</span> <span class="o">=</span> <span class="n">None</span>

            <span class="k">if</span> <span class="k">not</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span> <span class="k">or</span> <span class="n">inst</span><span class="p">.</span><span class="n">CALL_MAIN_IF_NESTED_COMMAND</span><span class="p">:</span>

                <span class="n">retcode</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="nf">main</span><span class="p">(</span><span class="o">*</span><span class="n">tailargs</span><span class="p">)</span>

                <span class="n">cleanup</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nf">partial</span><span class="p">(</span><span class="n">inst</span><span class="p">.</span><span class="n">cleanup</span><span class="p">,</span> <span class="n">retcode</span><span class="p">)</span>

            <span class="k">if</span> <span class="k">not</span> <span class="n">retcode</span> <span class="k">and</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span><span class="p">:</span>

                <span class="n">subapp</span><span class="p">,</span> <span class="n">argv</span> <span class="o">=</span> <span class="n">inst</span><span class="p">.</span><span class="n">nested_command</span>

                <span class="n">subapp</span><span class="p">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">inst</span>

                <span class="n">inst</span><span class="p">,</span> <span class="n">retcode</span> <span class="o">=</span> <span class="n">subapp</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span> <span class="k">exit</span><span class="o">=</span><span class="no">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">cleanup</span><span class="p">:</span>

                <span class="nf">cleanup</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">retcode</span> <span class="k">is</span> <span class="n">None</span><span class="p">:</span>

                <span class="n">retcode</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="k">exit</span><span class="p">:</span>

            <span class="n">sys</span><span class="p">.</span><span class="k">exit</span><span class="p">(</span><span class="n">retcode</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">inst</span><span class="p">,</span> <span class="n">retcode</span>
</code></pre></div>


</details>
<h5 id="subcommand_2">subcommand</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">subcommand</span><span class="p">(</span>
    <span class="n">name</span><span class="p">,</span>
    <span class="n">subapp</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>


<p>Registers the given sub-application as a sub-command of this one. This method can be
used both as a decorator and as a normal <code>classmethod</code>::</p>
<div class="codehilite"><pre><span></span><code><span class="err">@MyApp.subcommand(&quot;foo&quot;)</span>
<span class="err">class FooApp(cli.Application):</span>
<span class="err">    pass</span>
</code></pre></div>


<p>Or ::</p>
<div class="codehilite"><pre><span></span><code><span class="err">MyApp.subcommand(&quot;foo&quot;, FooApp)</span>
</code></pre></div>


<p>.. versionadded:: 1.1</p>
<p>.. versionadded:: 1.3
    The sub-command can also be a string, in which case it is treated as a
    fully-qualified class name and is imported on demand. For example,</p>
<div class="codehilite"><pre><span></span><code><span class="err">MyApp.subcommand(&quot;foo&quot;, &quot;fully.qualified.package.FooApp&quot;)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="o">@</span><span class="n">classmethod</span>

    <span class="n">def</span> <span class="nf">subcommand</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">subapp</span><span class="o">=</span><span class="n">None</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;Registers the given sub-application as a sub-command of this one. This method can be</span>

<span class="s2">        used both as a decorator and as a normal ``classmethod``::</span>

<span class="s2">            @MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;)</span>

<span class="s2">            class FooApp(cli.Application):</span>

<span class="s2">                pass</span>

<span class="s2">        Or ::</span>

<span class="s2">            MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;, FooApp)</span>

<span class="s2">        .. versionadded:: 1.1</span>

<span class="s2">        .. versionadded:: 1.3</span>

<span class="s2">            The sub-command can also be a string, in which case it is treated as a</span>

<span class="s2">            fully-qualified class name and is imported on demand. For example,</span>

<span class="s2">            MyApp.subcommand(&quot;</span><span class="n">foo</span><span class="s2">&quot;, &quot;</span><span class="n">fully</span><span class="p">.</span><span class="n">qualified</span><span class="p">.</span><span class="n">package</span><span class="p">.</span><span class="n">FooApp</span><span class="s2">&quot;)</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">subapp</span><span class="p">):</span>

            <span class="n">attrname</span> <span class="o">=</span> <span class="s2">&quot;_subcommand_{0}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span>

                <span class="n">subapp</span> <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">subapp</span><span class="p">,</span> <span class="n">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">subapp</span><span class="p">.</span><span class="n">__name__</span><span class="p">)</span>

            <span class="nf">setattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">attrname</span><span class="p">,</span> <span class="nf">Subcommand</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">subapp</span><span class="p">))</span>

            <span class="k">return</span> <span class="n">subapp</span>

        <span class="k">return</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">subapp</span><span class="p">)</span> <span class="k">if</span> <span class="n">subapp</span> <span class="k">else</span> <span class="n">wrapper</span>
</code></pre></div>


</details>
<h5 id="unbind_switches_2">unbind_switches</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unbind_switches</span><span class="p">(</span>
    <span class="o">*</span><span class="n">switch_names</span>
<span class="p">)</span>
</code></pre></div>


<p>Unbinds the given switch names from this application. For example</p>
<p>::</p>
<div class="codehilite"><pre><span></span><code><span class="err">class MyApp(cli.Application):</span>
<span class="err">    pass</span>
<span class="err">MyApp.unbind_switches(&quot;--version&quot;)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@classmethod</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">unbind_switches</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">switch_names</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Unbinds the given switch names from this application. For example</span>

<span class="ss">        ::</span>

<span class="ss">            class MyApp(cli.Application):</span>

<span class="ss">                pass</span>

<span class="ss">            MyApp.unbind_switches(&quot;</span><span class="c1">--version&quot;)</span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        cls._unbound_switches += tuple(</span>

<span class="ss">            name.lstrip(&quot;</span><span class="o">-</span><span class="err">&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_names</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"></span>
</code></pre></div>


</details>
<h4 id="instance-variables_2">Instance variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">root_app</span>
</code></pre></div>


<h4 id="methods_2">Methods</h4>
<h5 id="cleanup_2">cleanup</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">retcode</span>
<span class="p">)</span>
</code></pre></div>


<p>Called after <code>main()</code> and all sub-applications have executed, to perform any necessary cleanup.</p>
<p>:param retcode: the return code of <code>main()</code></p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cleanup</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">retcode</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;Called after ``main()`` and all sub-applications have executed, to perform any necessary cleanup.</span>

<span class="ss">        :param retcode: the return code of ``main()``</span>

<span class="ss">        &quot;&quot;&quot;</span>
</code></pre></div>


</details>
<h5 id="help_2">help</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">help</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints this help message and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;-h&quot;, &quot;--help&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints this help message and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">help</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints this help message and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_prog_version</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">version</span><span class="p">()</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">DESCRIPTION</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">split_indentation</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Identifies the initial indentation (all spaces) of the string and returns the indentation as well</span>

<span class="ss">            as the remainder of the line.</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">:i</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="o">[</span><span class="n">i:</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">paragraphs</span><span class="p">(</span><span class="nc">text</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Yields each paragraph of text along with its initial and subsequent indentations to be used by</span>

<span class="ss">            textwrap.TextWrapper.</span>

<span class="ss">            Identifies list items from their first non-space character being one of bullets &#39;-&#39;, &#39;*&#39;, and &#39;/&#39;.</span>

<span class="ss">            However, bullet &#39;/&#39; is invisible and is removed from the list item.</span>

<span class="ss">            :param text: The text to separate into paragraphs</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">            </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="n">def</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="ss">&quot;&quot;&quot;Yields the current result if present.</span>

<span class="ss">                &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">paragraph</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">paragraph</span><span class="p">,</span><span class="w"> </span><span class="n">initial_indent</span><span class="p">,</span><span class="w"> </span><span class="n">subsequent_indent</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">text</span><span class="p">.</span><span class="n">lstrip</span><span class="p">(</span><span class="ss">&quot;\n&quot;</span><span class="p">).</span><span class="n">split</span><span class="p">(</span><span class="ss">&quot;\n&quot;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">indent</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split_indentation</span><span class="p">(</span><span class="n">part</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="n">Starting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">                    </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="n">Adding</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                    </span><span class="n">def</span><span class="w"> </span><span class="n">is_list_item</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;&quot;&quot;Returns true if the first element of &#39;line&#39; is a bullet character.</span>

<span class="ss">                        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                        </span><span class="n">bullets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&#39;-&#39;, &#39;*&#39;, &#39;/&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">bullets</span><span class="w"></span>

<span class="w">                    </span><span class="n">def</span><span class="w"> </span><span class="n">has_invisible_bullet</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;&quot;&quot;Returns true if the first element of &#39;line&#39; is the invisible bullet (&#39;/&#39;).</span>

<span class="ss">                        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">is_list_item</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="err">#</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                        </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="n">has_invisible_bullet</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="w"></span>

<span class="w">                        </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                        </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                        </span><span class="err">#</span><span class="w"> </span><span class="n">Calculate</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">indentation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">subsequent</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">                        </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">                        </span><span class="k">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">line</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>

<span class="w">                        </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nl">paragraph</span><span class="p">:</span><span class="w"></span>

<span class="w">                            </span><span class="err">#</span><span class="w"> </span><span class="k">Start</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                            </span><span class="n">initial_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                            </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indent</span><span class="w"></span>

<span class="w">                        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="err">#</span><span class="w"> </span><span class="k">Add</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">paragraph</span><span class="w"></span>

<span class="w">                            </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paragraph</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">yield</span><span class="w"> </span><span class="n">item</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">wrapped_paragraphs</span><span class="p">(</span><span class="nc">text</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;&quot;&quot;Yields each line of each paragraph of text after wrapping them on &#39;width&#39; number of columns.</span>

<span class="ss">            :param text: The text to yield wrapped lines of</span>

<span class="ss">            :param width: The width of the wrapped output</span>

<span class="ss">            &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nc">text</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">return</span><span class="w"></span>

<span class="w">            </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">paragraph</span><span class="p">,</span><span class="w"> </span><span class="n">initial_indent</span><span class="p">,</span><span class="w"> </span><span class="n">subsequent_indent</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">paragraphs</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="nc">text</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextWrapper</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="n">width</span><span class="p">,</span><span class="w"></span>

<span class="w">                    </span><span class="n">initial_indent</span><span class="o">=</span><span class="n">initial_indent</span><span class="p">,</span><span class="w"></span>

<span class="w">                    </span><span class="n">subsequent_indent</span><span class="o">=</span><span class="n">subsequent_indent</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">paragraph</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">w</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">line</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_terminal_size</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">wrapped_paragraphs</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">DESCRIPTION_MORE</span><span class="p">,</span><span class="w"> </span><span class="n">cols</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">six</span><span class="p">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">main</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">skip</span><span class="w"> </span><span class="n">self</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="nl">defaults</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">reversed</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">defaults</span><span class="p">))</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">tailargs</span><span class="o">[</span><span class="n">-i - 1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;[{0}={1}]&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">tailargs</span><span class="o">[</span><span class="n">-i - 1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="nl">varargs</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">tailargs</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="ss">&quot;{0}...&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">varargs</span><span class="p">,</span><span class="w"> </span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">tailargs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">tailargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">COLOR_USAGE</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;Usage:&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="ss">&quot;    {progname} [SWITCHES] [SUBCOMMAND [SWITCHES]] {tailargs}\n&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;    {progname} [SWITCHES] {tailargs}\n&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="k">USAGE</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="n">progname</span><span class="o">=</span><span class="n">colors</span><span class="p">.</span><span class="k">filter</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">),</span><span class="w"> </span><span class="n">tailargs</span><span class="o">=</span><span class="n">tailargs</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">by_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_func</span><span class="p">.</span><span class="k">values</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">by_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">by_groups</span><span class="o">[</span><span class="n">si.group</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">            </span><span class="n">by_groups</span><span class="o">[</span><span class="n">si.group</span><span class="o">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">si</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="n">show_groups</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">grp</span><span class="p">,</span><span class="w"> </span><span class="n">swinfos</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="n">by_groups</span><span class="p">.</span><span class="n">items</span><span class="p">(),</span><span class="w"> </span><span class="k">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="nl">item</span><span class="p">:</span><span class="w"> </span><span class="n">item</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">show_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">lgrp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="n">grp</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">grp</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">_switch_groups</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">grp</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">grp</span><span class="o">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lgrp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">swinfos</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="nl">si</span><span class="p">:</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">names</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">swnames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="w"></span>

<span class="w">                                        </span><span class="k">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">names</span><span class="w"></span>

<span class="w">                                        </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_name</span><span class="w"></span>

<span class="w">                                        </span><span class="ow">and</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_switches_by_name</span><span class="o">[</span><span class="n">n</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">si</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="nl">argtype</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="n">hasattr</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;__name__&#39;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">typename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">.</span><span class="n">__name__</span><span class="w"></span>

<span class="w">                        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                            </span><span class="n">typename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">str</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argtype</span><span class="p">)</span><span class="w"></span>

<span class="w">                        </span><span class="n">argtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; {0}:{1}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">si</span><span class="p">.</span><span class="n">argname</span><span class="p">.</span><span class="nf">upper</span><span class="p">(),</span><span class="w"></span>

<span class="w">                                                    </span><span class="n">typename</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">argtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"></span>

<span class="w">                    </span><span class="k">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">swnames</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">argtype</span><span class="w"></span>

<span class="w">                    </span><span class="n">yield</span><span class="w"> </span><span class="n">si</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">grp</span><span class="o">]</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nl">show_groups</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">sw_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="w"></span>

<span class="w">            </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="k">False</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>

<span class="w">        </span><span class="n">description_indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;    {0}{1}{2}&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextWrapper</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="nf">max</span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">sw_width</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">),</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">indentation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;\n&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">switch_info</span><span class="p">,</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switchs</span><span class="p">(</span><span class="n">by_groups</span><span class="p">,</span><span class="w"> </span><span class="k">True</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">help</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">list</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; may be given multiple times&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">mandatory</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; required&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">requires</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; requires {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">switch</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">switch</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">requires</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="nl">excludes</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;; excludes {0}&quot;</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="ss">&quot;, &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                    </span><span class="p">((</span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">switch</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;--&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">switch</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">switch_info</span><span class="p">.</span><span class="n">excludes</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">l</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">help</span><span class="p">.</span><span class="n">splitlines</span><span class="p">())))</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nl">cols</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="w"></span>

<span class="w">            </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">description_indent</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">color</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">padding</span><span class="p">,</span><span class="w"></span>

<span class="w">                                            </span><span class="n">color</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">msg</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">gc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">COLOR_GROUPS</span><span class="o">[</span><span class="n">&quot;Subcommands&quot;</span><span class="o">]</span><span class="w"></span>

<span class="w">            </span><span class="k">print</span><span class="p">(</span><span class="n">gc</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;Sub-commands:&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">subcls</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_subcommands</span><span class="p">.</span><span class="n">items</span><span class="p">())</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">with</span><span class="w"> </span><span class="nl">gc</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">subapp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subcls</span><span class="p">.</span><span class="k">get</span><span class="p">()</span><span class="w"></span>

<span class="w">                    </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">DESCRIPTION</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">getdoc</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">subapp</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">SUBCOMMAND_HELPMSG</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot;; &quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">SUBCOMMAND_HELPMSG</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">parent</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">sub</span><span class="o">=</span><span class="n">name</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nv">@ReservedAssignment</span><span class="w"></span>

<span class="w">                    </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">wrapper</span><span class="p">.</span><span class="n">wrap</span><span class="p">(</span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">l</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">help</span><span class="p">.</span><span class="n">splitlines</span><span class="p">())))</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nl">cols</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">indentation</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">cols</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wrapper</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="n">contains_colors</span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="k">extract</span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gc</span><span class="w"></span>

<span class="w">                    </span><span class="k">print</span><span class="p">(</span><span class="n">description_indent</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">subcls</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">padding</span><span class="p">,</span><span class="w"> </span><span class="n">bodycolor</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="k">filter</span><span class="p">(</span><span class="n">msg</span><span class="p">)))</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="helpall_2">helpall</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">helpall</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints help messages of all sub-commands and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;--help-all&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints help messages of all sub-commands and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">helpall</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints help messages of all sub-commands and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">help</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">_subcommands</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">subcls</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_subcommands</span><span class="p">.</span><span class="n">items</span><span class="p">())</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">subcls</span><span class="p">.</span><span class="k">get</span><span class="p">())(</span><span class="ss">&quot;{0} {1}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">))</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="p">.</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="w"></span>

<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">subapp</span><span class="p">.</span><span class="n">_switches_by_func</span><span class="p">.</span><span class="k">values</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Meta-switches&quot;</span><span class="err">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">si</span><span class="p">.</span><span class="k">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Hidden-switches&quot;</span><span class="w"></span>

<span class="w">                </span><span class="n">subapp</span><span class="p">.</span><span class="n">helpall</span><span class="p">()</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="main_2">main</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Implement me (no need to call super)</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">main</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="n">experiments</span><span class="p">.</span><span class="n">discover</span><span class="p">()</span>

        <span class="n">all_exps</span> <span class="o">=</span> <span class="n">experiment</span><span class="p">.</span><span class="n">ExperimentRegistry</span><span class="p">.</span><span class="n">experiments</span>

        <span class="k">for</span> <span class="n">exp_cls</span> <span class="k">in</span> <span class="n">all_exps</span><span class="p">.</span><span class="k">values</span><span class="p">():</span>

            <span class="n">print</span><span class="p">(</span><span class="n">exp_cls</span><span class="p">.</span><span class="n">NAME</span><span class="p">)</span>

            <span class="n">docstring</span> <span class="o">=</span> <span class="n">exp_cls</span><span class="p">.</span><span class="n">__doc__</span> <span class="k">or</span> <span class="ss">&quot;-- no docstring --&quot;</span>

            <span class="n">print</span><span class="p">((</span><span class="ss">&quot;    &quot;</span> <span class="o">+</span> <span class="n">docstring</span><span class="p">))</span>
</code></pre></div>


</details>
<h5 id="version_2">version</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">version</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Prints the program's version and quits</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="nv">@switch</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="o">[</span><span class="n">&quot;-v&quot;, &quot;--version&quot;</span><span class="o">]</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">overridable</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="k">group</span><span class="o">=</span><span class="ss">&quot;Meta-switches&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">help</span><span class="o">=</span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;&quot;&quot;Prints the program&#39;s version and quits&quot;&quot;&quot;</span><span class="p">))</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">version</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Prints the program&#39;s version and quits&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">ver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_prog_version</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="n">ver_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ver</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">ver</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">T_</span><span class="p">(</span><span class="ss">&quot;(version not set)&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;{0} {1}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">PROGNAME</span><span class="p">,</span><span class="w"> </span><span class="n">ver_name</span><span class="p">))</span><span class="w"></span>
</code></pre></div>


</details>
<h3 id="choice">Choice</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Choice</span><span class="p">(</span>
    <span class="n">caption</span><span class="p">,</span>
    <span class="n">payload</span><span class="p">,</span>
    <span class="n">top</span>
<span class="p">)</span>
</code></pre></div>


<p>Widget base class</p>
<p>.. attribute:: _selectable
   :annotation: = False</p>
<p>The default :meth:<code>.selectable</code> method returns this
   value.</p>
<p>.. attribute:: _sizing
   :annotation: = frozenset(['flow', 'box', 'fixed'])</p>
<p>The default :meth:<code>.sizing</code> method returns this value.</p>
<p>.. attribute:: _command_map
   :annotation: = urwid.command_map</p>
<p>A shared :class:<code>CommandMap</code> instance. May be redefined
   in subclasses or widget instances.</p>
<p>.. method:: render(size, focus=False)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any concrete subclass</span>
</code></pre></div>


<p>:param size: One of the following,
                <em>maxcol</em> and <em>maxrow</em> are integers &gt; 0:</p>
<div class="codehilite"><pre><span></span><code>            <span class="p">(</span><span class="o">*</span><span class="n">maxcol</span><span class="o">*</span><span class="p">,</span> <span class="o">*</span><span class="n">maxrow</span><span class="o">*</span><span class="p">)</span>
              <span class="k">for</span> <span class="n">box</span> <span class="n">sizing</span> <span class="c1">-- the parent chooses the exact</span>
              <span class="k">size</span> <span class="k">of</span> <span class="n">this</span> <span class="n">widget</span>

            <span class="p">(</span><span class="o">*</span><span class="n">maxcol</span><span class="o">*</span><span class="p">,)</span>
              <span class="k">for</span> <span class="n">flow</span> <span class="n">sizing</span> <span class="c1">-- the parent chooses only the</span>
              <span class="nb">number</span> <span class="k">of</span> <span class="n">columns</span> <span class="k">for</span> <span class="n">this</span> <span class="n">widget</span>

            <span class="p">()</span>
              <span class="k">for</span> <span class="n">fixed</span> <span class="n">sizing</span> <span class="c1">-- this widget is a fixed size</span>
              <span class="n">which</span> <span class="n">can</span><span class="err">&#39;</span><span class="n">t</span> <span class="n">be</span> <span class="n">adjusted</span> <span class="k">by</span> <span class="n">the</span> <span class="n">parent</span>
</code></pre></div>


<p>:type size: widget size
   :param focus: set to <code>True</code> if this widget or one of its children
                 is in focus
   :type focus: bool</p>
<p>:returns: A :class:<code>Canvas</code> subclass instance containing the
             rendered content of this widget</p>
<p>:class:<code>Text</code> widgets return a :class:<code>TextCanvas</code> (arbitrary text and
   display attributes), :class:<code>SolidFill</code> widgets return a
   :class:<code>SolidCanvas</code> (a single character repeated across
   the whole surface) and container widgets return a
   :class:<code>CompositeCanvas</code> (one or more other canvases
   arranged arbitrarily).</p>
<p>If <em>focus</em> is <code>False</code>, the returned canvas may not have a cursor
   position set.</p>
<p>There is some metaclass magic defined in the :class:<code>Widget</code>
   metaclass :class:<code>WidgetMeta</code> that causes the
   result of this method to be cached by :class:<code>CanvasCache</code>.
   Later calls will automatically look up the value in the cache first.</p>
<p>As a small optimization the class variable :attr:<code>ignore_focus</code>
   may be defined and set to <code>True</code> if this widget renders the same
   canvas regardless of the value of the <em>focus</em> parameter.</p>
<p>Any time the content of a widget changes it should call
   :meth:<code>_invalidate</code> to remove any cached canvases, or the widget
   may render the cached canvas instead of creating a new one.</p>
<p>.. method:: rows(size, focus=False)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any flow widget.  See :meth:`.sizing`.</span>
</code></pre></div>


<p>See :meth:<code>Widget.render</code> for parameter details.</p>
<p>:returns: The number of rows required for this widget given a number
             of columns in <em>size</em></p>
<p>This is the method flow widgets use to communicate their size to other
   widgets without having to render a canvas. This should be a quick
   calculation as this function may be called a number of times in normal
   operation. If your implementation may take a long time you should add
   your own caching here.</p>
<p>There is some metaclass magic defined in the :class:<code>Widget</code>
   metaclass :class:<code>WidgetMeta</code> that causes the
   result of this function to be retrieved from any
   canvas cached by :class:<code>CanvasCache</code>, so if your widget
   has been rendered you may not receive calls to this function. The class
   variable :attr:<code>ignore_focus</code> may be defined and set to <code>True</code> if this
   widget renders the same size regardless of the value of the <em>focus</em>
   parameter.</p>
<p>.. method:: keypress(size, key)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any selectable widget.</span>
<span class="err">  See :meth:`.selectable`.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details
   :type size: widget size
   :param key: a single keystroke value; see :ref:<code>keyboard-input</code>
   :type key: bytes or unicode</p>
<p>:returns: <code>None</code> if <em>key</em> was handled by this widget or
             <em>key</em> (the same value passed) if <em>key</em> was not handled
             by this widget</p>
<p>Container widgets will typically call the :meth:<code>keypress</code> method on
   whichever of their children is set as the focus.</p>
<p>The standard widgets use :attr:<code>_command_map</code> to
   determine what action should be performed for a given <em>key</em>. You may
   modify these values to your liking globally, at some level in the
   widget hierarchy or on individual widgets. See :class:<code>CommandMap</code>
   for the defaults.</p>
<p>In your own widgets you may use whatever logic you like: filtering or
   translating keys, selectively passing along events etc.</p>
<p>.. method:: mouse_event(size, event, button, col, row, focus)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">may</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">a</span> <span class="n">subclass</span><span class="p">.</span>  <span class="k">Not</span> <span class="n">implementing</span> <span class="n">this</span>
  <span class="n">method</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="k">having</span> <span class="n">a</span> <span class="n">method</span> <span class="n">that</span> <span class="n">always</span> <span class="n">returns</span>
  <span class="ss">``</span><span class="no">False</span><span class="ss">``</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size
   :param event: Values such as <code>'mouse press'</code>, <code>'ctrl mouse press'</code>,
                 <code>'mouse release'</code>, <code>'meta mouse release'</code>,
                 <code>'mouse drag'</code>; see :ref:<code>mouse-input</code>
   :type event: mouse event
   :param button: 1 through 5 for press events, often 0 for release events
                  (which button was released is often not known)
   :type button: int
   :param col: Column of the event, 0 is the left edge of this widget
   :type col: int
   :param row: Row of the event, 0 it the top row of this widget
   :type row: int
   :param focus: Set to <code>True</code> if this widget or one of its children
                 is in focus
   :type focus: bool</p>
<p>:returns: <code>True</code> if the event was handled by this widget, <code>False</code>
             otherwise</p>
<p>Container widgets will typically call the :meth:<code>mouse_event</code> method on
   whichever of their children is at the position (<em>col</em>, <em>row</em>).</p>
<p>.. method:: get_cursor_coords(size)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">must</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">any</span> <span class="n">widget</span> <span class="n">that</span> <span class="n">may</span> <span class="k">return</span> <span class="k">cursor</span>
  <span class="n">coordinates</span> <span class="k">as</span> <span class="n">part</span> <span class="n">of</span> <span class="n">the</span> <span class="n">canvas</span> <span class="n">that</span> <span class="p">:</span><span class="n">meth</span><span class="p">:</span><span class="ss">`render`</span> <span class="n">returns</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size</p>
<p>:returns: (<em>col</em>, <em>row</em>) if this widget has a cursor, <code>None</code> otherwise</p>
<p>Return the cursor coordinates (<em>col</em>, <em>row</em>) of a cursor that will appear
   as part of the canvas rendered by this widget when in focus, or <code>None</code>
   if no cursor is displayed.</p>
<p>The :class:<code>ListBox</code> widget
   uses this method to make sure a cursor in the focus widget is not
   scrolled out of view.  It is a separate method to avoid having to render
   the whole widget while calculating layout.</p>
<p>Container widgets will typically call the :meth:<code>.get_cursor_coords</code>
   method on their focus widget.</p>
<p>.. method:: get_pref_col(size)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  may be implemented by a subclass.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size</p>
<p>:returns: a column number or <code>'left'</code> for the leftmost available
             column or <code>'right'</code> for the rightmost available column</p>
<p>Return the preferred column for the cursor to be displayed in this
   widget. This value might not be the same as the column returned from
   :meth:<code>get_cursor_coords</code>.</p>
<p>The :class:<code>ListBox</code> and :class:<code>Pile</code>
   widgets call this method on a widget losing focus and use the value
   returned to call :meth:<code>.move_cursor_to_coords</code> on the widget becoming
   the focus. This allows the focus to move up and down through widgets
   while keeping the cursor in approximately the same column on screen.</p>
<p>.. method:: move_cursor_to_coords(size, col, row)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">may</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">a</span> <span class="n">subclass</span><span class="p">.</span>  <span class="k">Not</span> <span class="n">implementing</span> <span class="n">this</span>
  <span class="n">method</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="k">having</span> <span class="n">a</span> <span class="n">method</span> <span class="n">that</span> <span class="n">always</span> <span class="n">returns</span>
  <span class="ss">``</span><span class="no">False</span><span class="ss">``</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size
   :param col: new column for the cursor, 0 is the left edge of this widget
   :type col: int
   :param row: new row for the cursor, 0 it the top row of this widget
   :type row: int</p>
<p>:returns: <code>True</code> if the position was set successfully anywhere on
             <em>row</em>, <code>False</code> otherwise</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">Choice</span>(<span class="n">urwid</span>.<span class="n">WidgetWrap</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="nb">self</span>, <span class="nb">caption</span>, <span class="nb">payload</span>, <span class="n">top</span>):

        <span class="n">super</span>(<span class="n">Choice</span>, <span class="nb">self</span>).<span class="n">__init__</span>(<span class="n">MenuButton</span>(<span class="nb">caption</span>, <span class="nb">self</span>.<span class="n">item_chosen</span>))

        <span class="nb">self</span>.<span class="nb">caption</span> = <span class="nb">caption</span>

        <span class="nb">self</span>.<span class="n">top</span> = <span class="n">top</span>

        <span class="nb">self</span>.<span class="nb">payload</span> = <span class="nb">payload</span>

    <span class="n">def</span> <span class="n">item_chosen</span>(<span class="nb">self</span>, <span class="n">_</span>):

        <span class="n">session</span> = <span class="n">schema</span>.<span class="n">Session</span>()

        <span class="n">session</span>.<span class="n">delete</span>(<span class="nb">self</span>.<span class="nb">payload</span>)

        <span class="n">def</span> <span class="n">confirm</span>(<span class="n">_</span>):

            <span class="n">session</span>.<span class="n">commit</span>()

            <span class="nb">self</span>.<span class="n">top</span>.<span class="n">clear</span>()

            <span class="nb">self</span>.<span class="n">top</span>.<span class="n">open_box</span>(<span class="n">refresh_root_window</span>(<span class="nb">self</span>.<span class="n">top</span>))

        <span class="n">def</span> <span class="nb">cancel</span>(<span class="n">_</span>):

            <span class="n">session</span>.<span class="n">rollback</span>()

            <span class="nb">self</span>.<span class="n">top</span>.<span class="n">clear</span>()

            <span class="nb">self</span>.<span class="n">top</span>.<span class="n">open_box</span>(<span class="n">refresh_root_window</span>(<span class="nb">self</span>.<span class="n">top</span>))

        <span class="n">response</span> = <span class="n">urwid</span>.<span class="n">Text</span>([

            <span class="s">&#39;Really delete: {name} {desc}?&#39;</span>.<span class="nb">format</span>(

                <span class="nb">name</span>=<span class="nb">self</span>.<span class="nb">payload</span>.<span class="nb">name</span>, <span class="nb">desc</span>=<span class="nb">self</span>.<span class="nb">payload</span>.<span class="n">description</span>), <span class="s">&#39;\n&#39;</span>

        ])

        <span class="nb">done</span> = <span class="n">MenuButton</span>(<span class="s">&#39;Ok&#39;</span>, <span class="n">confirm</span>)

        <span class="nb">cancel</span> = <span class="n">MenuButton</span>(<span class="s">&#39;Cancel&#39;</span>, <span class="nb">cancel</span>)

        <span class="n">response_box</span> = <span class="n">urwid</span>.<span class="n">Filler</span>(<span class="n">urwid</span>.<span class="n">Pile</span>([<span class="n">response</span>, <span class="nb">done</span>, <span class="nb">cancel</span>]))

        <span class="nb">self</span>.<span class="n">top</span>.<span class="n">open_box</span>(<span class="n">urwid</span>.<span class="n">AttrMap</span>(<span class="n">response_box</span>, <span class="s">&#39;options&#39;</span>))
</code></pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro_3">Ancestors (in MRO)</h4>
<ul>
<li>urwid.widget.WidgetWrap</li>
<li>urwid.widget.DelegateToWidgetMixin</li>
<li>urwid.widget.Widget</li>
</ul>
<h4 id="instance-variables_3">Instance variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">base_widget</span>
</code></pre></div>


<p>Read-only property that steps through decoration widgets
and returns the one at the base.  This default implementation
returns self.</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus</span>
</code></pre></div>


<p>Read-only property returning the child widget in focus for
container widgets.  This default implementation
always returns <code>None</code>, indicating that this widget has no children.</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus_position</span>
</code></pre></div>


<p>Property for reading and setting the focus position for
container widgets. This default implementation raises
:exc:<code>IndexError</code>, making normal widgets fail the same way
accessing :attr:<code>.focus_position</code> on an empty container widget would.</p>
<div class="codehilite"><pre><span></span><code><span class="n">get_cursor_coords</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">get_pref_col</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">keypress</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">mouse_event</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">move_cursor_to_coords</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">pack</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">rows</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">selectable</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">sizing</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">w</span>
</code></pre></div>


<h4 id="methods_3">Methods</h4>
<h5 id="item_chosen">item_chosen</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">item_chosen</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">_</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">item_chosen</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">_</span><span class="p">):</span>

        <span class="k">session</span> <span class="o">=</span> <span class="k">schema</span><span class="p">.</span><span class="k">Session</span><span class="p">()</span>

        <span class="k">session</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="k">self</span><span class="p">.</span><span class="n">payload</span><span class="p">)</span>

        <span class="n">def</span> <span class="n">confirm</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>

            <span class="k">session</span><span class="p">.</span><span class="k">commit</span><span class="p">()</span>

            <span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>

            <span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">refresh_root_window</span><span class="p">(</span><span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">))</span>

        <span class="n">def</span> <span class="n">cancel</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>

            <span class="k">session</span><span class="p">.</span><span class="k">rollback</span><span class="p">()</span>

            <span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>

            <span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">refresh_root_window</span><span class="p">(</span><span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">))</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">urwid</span><span class="p">.</span><span class="nb">Text</span><span class="p">([</span>

            <span class="s1">&#39;Really delete: {name} {desc}?&#39;</span><span class="p">.</span><span class="n">format</span><span class="p">(</span>

                <span class="n">name</span><span class="o">=</span><span class="k">self</span><span class="p">.</span><span class="n">payload</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">desc</span><span class="o">=</span><span class="k">self</span><span class="p">.</span><span class="n">payload</span><span class="p">.</span><span class="n">description</span><span class="p">),</span> <span class="s1">&#39;\n&#39;</span>

        <span class="p">])</span>

        <span class="n">done</span> <span class="o">=</span> <span class="n">MenuButton</span><span class="p">(</span><span class="s1">&#39;Ok&#39;</span><span class="p">,</span> <span class="n">confirm</span><span class="p">)</span>

        <span class="n">cancel</span> <span class="o">=</span> <span class="n">MenuButton</span><span class="p">(</span><span class="s1">&#39;Cancel&#39;</span><span class="p">,</span> <span class="n">cancel</span><span class="p">)</span>

        <span class="n">response_box</span> <span class="o">=</span> <span class="n">urwid</span><span class="p">.</span><span class="n">Filler</span><span class="p">(</span><span class="n">urwid</span><span class="p">.</span><span class="n">Pile</span><span class="p">([</span><span class="n">response</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">cancel</span><span class="p">]))</span>

        <span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">open_box</span><span class="p">(</span><span class="n">urwid</span><span class="p">.</span><span class="n">AttrMap</span><span class="p">(</span><span class="n">response_box</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">))</span>
</code></pre></div>


</details>
<h5 id="render">render</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">focus</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cached_render</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="k">False</span><span class="p">):</span>

        <span class="n">focus</span> <span class="o">=</span> <span class="n">focus</span> <span class="k">and</span> <span class="k">not</span> <span class="n">ignore_focus</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">CanvasCache</span><span class="p">.</span><span class="k">fetch</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">cls</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">canv</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="n">focus</span><span class="p">)</span>

        <span class="n">validate_size</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">.</span><span class="n">widget_info</span><span class="p">:</span>

            <span class="n">canv</span> <span class="o">=</span> <span class="n">CompositeCanvas</span><span class="p">(</span><span class="n">canv</span><span class="p">)</span>

        <span class="n">canv</span><span class="p">.</span><span class="n">finalize</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="n">CanvasCache</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">canv</span>
</code></pre></div>


</details>
<h3 id="horizontalboxes">HorizontalBoxes</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">HorizontalBoxes</span><span class="p">(</span>

<span class="p">)</span>
</code></pre></div>


<p>Widgets arranged horizontally in columns from left to right</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">HorizontalBoxes</span>(<span class="n">urwid</span>.<span class="n">Columns</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="nb">self</span>):

        <span class="n">super</span>(<span class="n">HorizontalBoxes</span>, <span class="nb">self</span>).<span class="n">__init__</span>([], <span class="n">dividechars</span>=<span class="mi">1</span>)

    <span class="n">def</span> <span class="n">clear</span>(<span class="nb">self</span>):

        <span class="nb">self</span>.<span class="nb">contents</span> = []

    <span class="n">def</span> <span class="n">open_box</span>(<span class="nb">self</span>, <span class="n">box</span>):

        <span class="n">focus_map</span> = {

            <span class="s">&#39;heading&#39;</span>: <span class="s">&#39;focus heading&#39;</span>,

            <span class="s">&#39;options&#39;</span>: <span class="s">&#39;focus options&#39;</span>,

            <span class="s">&#39;line&#39;</span>: <span class="s">&#39;focus line&#39;</span>

        }

        <span class="k">if</span> <span class="nb">self</span>.<span class="n">contents:</span>

            <span class="n">del</span> <span class="nb">self</span>.<span class="nb">contents</span>[<span class="nb">self</span>.<span class="n">focus_position</span> + <span class="mi">1</span>:]

        <span class="nb">self</span>.<span class="nb">contents</span>.<span class="nb">append</span>(

            (<span class="n">urwid</span>.<span class="n">AttrMap</span>(<span class="n">box</span>, <span class="s">&#39;options&#39;</span>,

                           <span class="n">focus_map</span>), <span class="nb">self</span>.<span class="n">options</span>(<span class="s">&#39;given&#39;</span>, <span class="mi">80</span>)))

        <span class="nb">self</span>.<span class="n">focus_position</span> = <span class="n">len</span>(<span class="nb">self</span>.<span class="nb">contents</span>) - <span class="mi">1</span>
</code></pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro_4">Ancestors (in MRO)</h4>
<ul>
<li>urwid.container.Columns</li>
<li>urwid.widget.Widget</li>
<li>urwid.container.WidgetContainerMixin</li>
<li>urwid.container.WidgetContainerListContentsMixin</li>
</ul>
<h4 id="instance-variables_4">Instance variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">base_widget</span>
</code></pre></div>


<p>Read-only property that steps through decoration widgets
and returns the one at the base.  This default implementation
returns self.</p>
<div class="codehilite"><pre><span></span><code><span class="n">box_columns</span>
</code></pre></div>


<p>A list of the indexes of the columns that are to be treated as
box widgets when the Columns is treated as a flow widget.</p>
<p>.. note:: only for backwards compatibility. You should use the new
    standard container property :attr:<code>contents</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="n">column_types</span>
</code></pre></div>


<p>A list of the old partial options values for widgets in this Pile,
for backwards compatibility only.  You should use the new standard
container property .contents to modify Pile contents.</p>
<div class="codehilite"><pre><span></span><code><span class="n">contents</span>
</code></pre></div>


<p>The contents of this Columns as a list of <code>(widget, options)</code> tuples.
This list may be modified like a normal list and the Columns
widget will update automatically.</p>
<p>.. seealso:: Create new options tuples with the :meth:<code>options</code> method</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus</span>
</code></pre></div>


<p>the child widget in focus or None when Columns is empty</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus_col</span>
</code></pre></div>


<p>A property for reading and setting the index of the column in
focus.</p>
<p>.. note:: only for backwards compatibility. You may also use the new
    standard container property :attr:<code>focus_position</code> to get the focus.</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus_position</span>
</code></pre></div>


<p>index of child widget in focus. Raises :exc:<code>IndexError</code> if read when
Columns is empty, or when set to an invalid index.</p>
<div class="codehilite"><pre><span></span><code><span class="n">has_flow_type</span>
</code></pre></div>


<p>.. deprecated:: 1.0 Read values from :attr:<code>contents</code> instead.</p>
<div class="codehilite"><pre><span></span><code><span class="n">widget_list</span>
</code></pre></div>


<p>A list of the widgets in this Columns</p>
<p>.. note:: only for backwards compatibility. You should use the new
    standard container property :attr:<code>contents</code>.</p>
<h4 id="methods_4">Methods</h4>
<h5 id="clear">clear</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">clear</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">clear</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="k">self</span><span class="p">.</span><span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>


</details>
<h5 id="column_widths">column_widths</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">column_widths</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">focus</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<p>Return a list of column widths.</p>
<p>0 values in the list mean hide corresponding column completely</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">column_widths</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="n">focus</span><span class="o">=</span><span class="k">False</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Return a list of column widths.</span>

<span class="ss">        0 values in the list mean hide corresponding column completely</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">maxcol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">size</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="nl">FIXME</span><span class="p">:</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">rid</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">recalculate</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="k">when</span><span class="w"></span>

<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s1">&#39;pack&#39;</span><span class="w"> </span><span class="n">widget</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">modified</span><span class="p">.</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">maxcol</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_cache_maxcol</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">any</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="n">t</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">PACK</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">contents</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_cache_column_widths</span><span class="w"></span>

<span class="w">        </span><span class="n">widths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="n">weighted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="n">shared</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxcol</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">dividechars</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">contents</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nl">GIVEN</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">static_w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="w"></span>

<span class="w">            </span><span class="n">elif</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nl">PACK</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="err">#</span><span class="w"> </span><span class="nl">FIXME</span><span class="p">:</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">pack</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"></span>

<span class="w">                </span><span class="err">#</span><span class="w"> </span><span class="n">maxcol</span><span class="w"> </span><span class="k">value</span><span class="w"></span>

<span class="w">                </span><span class="n">static_w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">pack</span><span class="p">((</span><span class="n">maxcol</span><span class="p">,),</span><span class="w"> </span><span class="n">focus</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">)</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"></span>

<span class="w">            </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">static_w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">min_width</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">static_w</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">dividechars</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">focus_position</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="k">break</span><span class="w"></span>

<span class="w">            </span><span class="n">widths</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">static_w</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">shared</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">static_w</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">dividechars</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p">(</span><span class="n">GIVEN</span><span class="p">,</span><span class="w"> </span><span class="n">PACK</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">weighted</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nf">left</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">fit</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">widths</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">break</span><span class="w"></span>

<span class="w">            </span><span class="n">shared</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">widths</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">dividechars</span><span class="w"></span>

<span class="w">            </span><span class="n">widths</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">weighted</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">weighted</span><span class="o">[</span><span class="n">0</span><span class="o">][</span><span class="n">1</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nl">i</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">del</span><span class="w"> </span><span class="n">weighted</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">shared</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="err">#</span><span class="w"> </span><span class="n">divide</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="nf">space</span><span class="w"> </span><span class="ow">between</span><span class="w"> </span><span class="n">weighted</span><span class="w"> </span><span class="n">cols</span><span class="w"></span>

<span class="w">            </span><span class="n">weighted</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span><span class="w"></span>

<span class="w">            </span><span class="n">wtotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">weight</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">weight</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">weighted</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">grow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">weighted</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">min_width</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">weight</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">weighted</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">int</span><span class="p">(</span><span class="nc">float</span><span class="p">(</span><span class="n">grow</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">weight</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">wtotal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.5</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">min_width</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="n">widths</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="w"></span>

<span class="w">                </span><span class="n">grow</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">width</span><span class="w"></span>

<span class="w">                </span><span class="n">wtotal</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">weight</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">_cache_maxcol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxcol</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">_cache_column_widths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">widths</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">widths</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="get_cursor_coords">get_cursor_coords</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_cursor_coords</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span>
<span class="p">)</span>
</code></pre></div>


<p>Return the cursor coordinates from the focus widget.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">get_cursor_coords</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;Return the cursor coordinates from the focus widget.&quot;&quot;&quot;</span>

        <span class="n">w</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">[</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">]</span>

        <span class="k">if</span> <span class="k">not</span> <span class="n">w</span><span class="p">.</span><span class="n">selectable</span><span class="p">():</span>

            <span class="k">return</span> <span class="k">None</span>

        <span class="k">if</span> <span class="k">not</span> <span class="n">hasattr</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="s1">&#39;get_cursor_coords&#39;</span><span class="p">):</span>

            <span class="k">return</span> <span class="k">None</span>

        <span class="n">widths</span> <span class="o">=</span> <span class="k">self</span><span class="p">.</span><span class="n">column_widths</span><span class="p">(</span><span class="k">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">len</span><span class="p">(</span><span class="n">widths</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">:</span>

            <span class="k">return</span> <span class="k">None</span>

        <span class="n">colw</span> <span class="o">=</span> <span class="n">widths</span><span class="p">[</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">len</span><span class="p">(</span><span class="k">size</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">and</span> <span class="n">b</span><span class="p">:</span>

            <span class="n">coords</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">get_cursor_coords</span><span class="p">((</span><span class="n">colw</span><span class="p">,</span> <span class="k">self</span><span class="p">.</span><span class="k">rows</span><span class="p">(</span><span class="k">size</span><span class="p">)))</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">coords</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">get_cursor_coords</span><span class="p">((</span><span class="n">colw</span><span class="p">,)</span><span class="o">+</span><span class="k">size</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

        <span class="k">if</span> <span class="n">coords</span> <span class="k">is</span> <span class="k">None</span><span class="p">:</span>

            <span class="k">return</span> <span class="k">None</span>

        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">coords</span>

        <span class="n">x</span> <span class="o">+=</span> <span class="k">sum</span><span class="p">([</span><span class="k">self</span><span class="p">.</span><span class="n">dividechars</span> <span class="o">+</span> <span class="n">wc</span>

            <span class="k">for</span> <span class="n">wc</span> <span class="k">in</span> <span class="n">widths</span><span class="p">[:</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">]</span> <span class="k">if</span> <span class="n">wc</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
</code></pre></div>


</details>
<h5 id="get_focus">get_focus</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_focus</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Return the widget in focus, for backwards compatibility.  You may
also use the new standard container property .focus to get the
child widget in focus.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">get_focus</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Return the widget in focus, for backwards compatibility.  You may</span>

<span class="ss">        also use the new standard container property .focus to get the</span>

<span class="ss">        child widget in focus.</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="k">not</span> <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">:</span>

            <span class="k">return</span> <span class="k">None</span>

        <span class="k">return</span> <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">[</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>


</details>
<h5 id="get_focus_column">get_focus_column</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_focus_column</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Return the focus column index.</p>
<p>.. note:: only for backwards compatibility. You may also use the new
    standard container property :attr:<code>focus_position</code> to get the focus.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="nf">get_focus_column</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        Return the focus column index.</span>

<span class="s2">        .. note:: only for backwards compatibility. You may also use the new</span>

<span class="s2">            standard container property :attr:`focus_position` to get the focus.</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">focus_position</span>
</code></pre></div>


</details>
<h5 id="get_focus_path">get_focus_path</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_focus_path</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Return the .focus_position values starting from this container
and proceeding along each child widget until reaching a leaf
(non-container) widget.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">get_focus_path</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Return the .focus_position values starting from this container</span>

<span class="ss">        and proceeding along each child widget until reaching a leaf</span>

<span class="ss">        (non-container) widget.</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="k">out</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">w</span> <span class="o">=</span> <span class="k">self</span>

        <span class="n">while</span> <span class="k">True</span><span class="p">:</span>

            <span class="n">try</span><span class="p">:</span>

                <span class="n">p</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">focus_position</span>

            <span class="k">except</span> <span class="n">IndexError</span><span class="p">:</span>

                <span class="k">return</span> <span class="k">out</span>

            <span class="k">out</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

            <span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">focus</span><span class="p">.</span><span class="n">base_widget</span>
</code></pre></div>


</details>
<h5 id="get_focus_widgets">get_focus_widgets</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_focus_widgets</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Return the .focus values starting from this container
and proceeding along each child widget until reaching a leaf
(non-container) widget.</p>
<p>Note that the list does not contain the topmost container widget
(i.e., on which this method is called), but does include the
lowest leaf widget.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">get_focus_widgets</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Return the .focus values starting from this container</span>

<span class="ss">        and proceeding along each child widget until reaching a leaf</span>

<span class="ss">        (non-container) widget.</span>

<span class="ss">        Note that the list does not contain the topmost container widget</span>

<span class="ss">        (i.e., on which this method is called), but does include the</span>

<span class="ss">        lowest leaf widget.</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="k">out</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">w</span> <span class="o">=</span> <span class="k">self</span>

        <span class="n">while</span> <span class="k">True</span><span class="p">:</span>

            <span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">base_widget</span><span class="p">.</span><span class="n">focus</span>

            <span class="k">if</span> <span class="n">w</span> <span class="k">is</span> <span class="k">None</span><span class="p">:</span>

                <span class="k">return</span> <span class="k">out</span>

            <span class="k">out</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</code></pre></div>


</details>
<h5 id="get_pref_col">get_pref_col</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pref_col</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span>
<span class="p">)</span>
</code></pre></div>


<p>Return the pref col from the column in focus.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">get_pref_col</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;Return the pref col from the column in focus.&quot;&quot;&quot;</span>

        <span class="n">widths</span> <span class="o">=</span> <span class="k">self</span><span class="p">.</span><span class="n">column_widths</span><span class="p">(</span><span class="k">size</span><span class="p">)</span>

        <span class="n">w</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">[</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">len</span><span class="p">(</span><span class="n">widths</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">:</span>

            <span class="k">return</span> <span class="mi">0</span>

        <span class="n">col</span> <span class="o">=</span> <span class="k">None</span>

        <span class="n">cwidth</span> <span class="o">=</span> <span class="n">widths</span><span class="p">[</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">hasattr</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="s1">&#39;get_pref_col&#39;</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">len</span><span class="p">(</span><span class="k">size</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">and</span> <span class="n">b</span><span class="p">:</span>

                <span class="n">col</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">get_pref_col</span><span class="p">((</span><span class="n">cwidth</span><span class="p">,</span> <span class="k">self</span><span class="p">.</span><span class="k">rows</span><span class="p">(</span><span class="k">size</span><span class="p">)))</span>

            <span class="k">else</span><span class="p">:</span>

                <span class="n">col</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">get_pref_col</span><span class="p">((</span><span class="n">cwidth</span><span class="p">,)</span> <span class="o">+</span> <span class="k">size</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

            <span class="k">if</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>

                <span class="n">col</span> <span class="o">+=</span> <span class="k">self</span><span class="p">.</span><span class="n">focus_col</span> <span class="o">*</span> <span class="k">self</span><span class="p">.</span><span class="n">dividechars</span>

                <span class="n">col</span> <span class="o">+=</span> <span class="k">sum</span><span class="p">(</span><span class="n">widths</span><span class="p">[:</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">col</span> <span class="k">is</span> <span class="k">None</span><span class="p">:</span>

            <span class="n">col</span> <span class="o">=</span> <span class="k">self</span><span class="p">.</span><span class="n">pref_col</span>

        <span class="k">if</span> <span class="n">col</span> <span class="k">is</span> <span class="k">None</span> <span class="k">and</span> <span class="n">w</span><span class="p">.</span><span class="n">selectable</span><span class="p">():</span>

            <span class="n">col</span> <span class="o">=</span> <span class="n">cwidth</span> <span class="o">//</span> <span class="mi">2</span>

            <span class="n">col</span> <span class="o">+=</span> <span class="k">self</span><span class="p">.</span><span class="n">focus_position</span> <span class="o">*</span> <span class="k">self</span><span class="p">.</span><span class="n">dividechars</span>

            <span class="n">col</span> <span class="o">+=</span> <span class="k">sum</span><span class="p">(</span><span class="n">widths</span><span class="p">[:</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span><span class="p">]</span> <span class="p">)</span>

        <span class="k">return</span> <span class="n">col</span>
</code></pre></div>


</details>
<h5 id="keypress">keypress</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">keypress</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">key</span>
<span class="p">)</span>
</code></pre></div>


<p>Pass keypress to the focus column.</p>
<p>:param size: <code>(maxcol,)</code> if :attr:<code>widget_list</code> contains flow widgets or
    <code>(maxcol, maxrow)</code> if it contains box widgets.
:type size: int, int</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">keypress</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Pass keypress to the focus column.</span>

<span class="ss">        :param size: `(maxcol,)` if :attr:`widget_list` contains flow widgets or</span>

<span class="ss">            `(maxcol, maxrow)` if it contains box widgets.</span>

<span class="ss">        :type size: int, int</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">focus_position</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">key</span><span class="w"></span>

<span class="w">        </span><span class="n">widths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">column_widths</span><span class="p">(</span><span class="k">size</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">focus_position</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">widths</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">key</span><span class="w"></span>

<span class="w">        </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">focus_position</span><span class="w"></span>

<span class="w">        </span><span class="n">mc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">widths</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">contents</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_command_map</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;cursor up&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;cursor down&#39;</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="s1">&#39;cursor page up&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;cursor page down&#39;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">pref_col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">selectable</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">size</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nl">b</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="k">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">keypress</span><span class="p">((</span><span class="n">mc</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">rows</span><span class="p">(</span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="k">True</span><span class="p">)),</span><span class="w"> </span><span class="k">key</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">keypress</span><span class="p">((</span><span class="n">mc</span><span class="p">,)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">size</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_command_map</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;cursor left&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;cursor right&#39;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">key</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_command_map</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;cursor left&#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">candidates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="k">range</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="nf">count</span><span class="w"> </span><span class="n">backwards</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;right&#39;</span><span class="w"></span>

<span class="w">            </span><span class="n">candidates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="k">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">contents</span><span class="p">)))</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">candidates</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">contents</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="n">0</span><span class="o">]</span><span class="p">.</span><span class="n">selectable</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">continue</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">focus_position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">key</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="mouse_event">mouse_event</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">mouse_event</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">event</span><span class="p">,</span>
    <span class="n">button</span><span class="p">,</span>
    <span class="n">col</span><span class="p">,</span>
    <span class="n">row</span><span class="p">,</span>
    <span class="n">focus</span>
<span class="p">)</span>
</code></pre></div>


<p>Send event to appropriate column.
May change focus on button 1 press.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">mouse_event</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">button</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="k">row</span><span class="p">,</span><span class="w"> </span><span class="n">focus</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Send event to appropriate column.</span>

<span class="ss">        May change focus on button 1 press.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">widths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">column_widths</span><span class="p">(</span><span class="k">size</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)))</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">zip</span><span class="p">(</span><span class="n">widths</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">contents</span><span class="p">))</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nl">x</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">False</span><span class="w"></span>

<span class="w">            </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">widget_list</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"></span>

<span class="w">            </span><span class="k">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">width</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">end</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">dividechars</span><span class="w"></span>

<span class="w">                </span><span class="k">continue</span><span class="w"></span>

<span class="w">            </span><span class="n">focus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">focus</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">focus_col</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">is_mouse_press</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">selectable</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="n">focus_position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">hasattr</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;mouse_event&#39;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">False</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">size</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nl">b</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">mouse_event</span><span class="p">((</span><span class="k">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">rows</span><span class="p">(</span><span class="k">size</span><span class="p">)),</span><span class="w"> </span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">button</span><span class="p">,</span><span class="w"></span>

<span class="w">                    </span><span class="n">col</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="k">row</span><span class="p">,</span><span class="w"> </span><span class="n">focus</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">mouse_event</span><span class="p">((</span><span class="k">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="p">,)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">size</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">button</span><span class="p">,</span><span class="w"></span>

<span class="w">                </span><span class="n">col</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="k">row</span><span class="p">,</span><span class="w"> </span><span class="n">focus</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">False</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="move_cursor_to_coords">move_cursor_to_coords</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">move_cursor_to_coords</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">col</span><span class="p">,</span>
    <span class="n">row</span>
<span class="p">)</span>
</code></pre></div>


<p>Choose a selectable column to focus based on the coords.</p>
<p>see :meth:<code>Widget.move_cursor_coords</code> for details</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">move_cursor_to_coords</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="k">row</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Choose a selectable column to focus based on the coords.</span>

<span class="ss">        see :meth:`Widget.move_cursor_coords` for details</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="n">widths</span> <span class="o">=</span> <span class="k">self</span><span class="p">.</span><span class="n">column_widths</span><span class="p">(</span><span class="k">size</span><span class="p">)</span>

        <span class="n">best</span> <span class="o">=</span> <span class="k">None</span>

        <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="k">options</span><span class="p">))</span> <span class="k">in</span> <span class="n">enumerate</span><span class="p">(</span><span class="n">zip</span><span class="p">(</span><span class="n">widths</span><span class="p">,</span> <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">)):</span>

            <span class="k">end</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">width</span>

            <span class="k">if</span> <span class="n">w</span><span class="p">.</span><span class="n">selectable</span><span class="p">():</span>

                <span class="k">if</span> <span class="n">col</span> <span class="o">!=</span> <span class="k">RIGHT</span> <span class="k">and</span> <span class="p">(</span><span class="n">col</span> <span class="o">==</span> <span class="k">LEFT</span> <span class="k">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">col</span><span class="p">)</span> <span class="k">and</span> <span class="n">best</span> <span class="k">is</span> <span class="k">None</span><span class="p">:</span>

                    <span class="o">#</span> <span class="k">no</span> <span class="n">other</span> <span class="n">choice</span>

                    <span class="n">best</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="k">end</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="k">options</span>

                    <span class="n">break</span>

                <span class="k">if</span> <span class="n">col</span> <span class="o">!=</span> <span class="k">RIGHT</span> <span class="k">and</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">col</span> <span class="k">and</span> <span class="n">col</span><span class="o">-</span><span class="n">best</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">x</span><span class="o">-</span><span class="n">col</span><span class="p">:</span>

                    <span class="o">#</span> <span class="n">choose</span> <span class="n">one</span> <span class="k">on</span> <span class="k">left</span>

                    <span class="n">break</span>

                <span class="n">best</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="k">end</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="k">options</span>

                <span class="k">if</span> <span class="n">col</span> <span class="o">!=</span> <span class="k">RIGHT</span> <span class="k">and</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="k">end</span><span class="p">:</span>

                    <span class="o">#</span> <span class="n">choose</span> <span class="n">this</span> <span class="n">one</span>

                    <span class="n">break</span>

            <span class="n">x</span> <span class="o">=</span> <span class="k">end</span> <span class="o">+</span> <span class="k">self</span><span class="p">.</span><span class="n">dividechars</span>

        <span class="k">if</span> <span class="n">best</span> <span class="k">is</span> <span class="k">None</span><span class="p">:</span>

            <span class="k">return</span> <span class="k">False</span>

        <span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="k">end</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="n">best</span>

        <span class="k">if</span> <span class="n">hasattr</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="s1">&#39;move_cursor_to_coords&#39;</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>

                <span class="n">move_x</span> <span class="o">=</span> <span class="k">min</span><span class="p">(</span><span class="k">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">col</span> <span class="o">-</span> <span class="n">x</span><span class="p">),</span> <span class="k">end</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>

                <span class="n">move_x</span> <span class="o">=</span> <span class="n">col</span>

            <span class="k">if</span> <span class="n">len</span><span class="p">(</span><span class="k">size</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">and</span> <span class="n">b</span><span class="p">:</span>

                <span class="n">rval</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">move_cursor_to_coords</span><span class="p">((</span><span class="k">end</span> <span class="o">-</span> <span class="n">x</span><span class="p">,</span> <span class="k">self</span><span class="p">.</span><span class="k">rows</span><span class="p">(</span><span class="k">size</span><span class="p">)),</span>

                    <span class="n">move_x</span><span class="p">,</span> <span class="k">row</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>

                <span class="n">rval</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">move_cursor_to_coords</span><span class="p">((</span><span class="k">end</span> <span class="o">-</span> <span class="n">x</span><span class="p">,)</span> <span class="o">+</span> <span class="k">size</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>

                    <span class="n">move_x</span><span class="p">,</span> <span class="k">row</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">rval</span> <span class="k">is</span> <span class="k">False</span><span class="p">:</span>

                <span class="k">return</span> <span class="k">False</span>

        <span class="k">self</span><span class="p">.</span><span class="n">focus_position</span> <span class="o">=</span> <span class="n">i</span>

        <span class="k">self</span><span class="p">.</span><span class="n">pref_col</span> <span class="o">=</span> <span class="n">col</span>

        <span class="k">return</span> <span class="k">True</span>
</code></pre></div>


</details>
<h5 id="open_box">open_box</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">open_box</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">box</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">open_box</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">box</span><span class="p">):</span>

        <span class="n">focus_map</span> <span class="o">=</span> <span class="err">{</span>

            <span class="s1">&#39;heading&#39;</span><span class="p">:</span> <span class="s1">&#39;focus heading&#39;</span><span class="p">,</span>

            <span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="s1">&#39;focus options&#39;</span><span class="p">,</span>

            <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;focus line&#39;</span>

        <span class="err">}</span>

        <span class="k">if</span> <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">:</span>

            <span class="n">del</span> <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">[</span><span class="k">self</span><span class="p">.</span><span class="n">focus_position</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

        <span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">.</span><span class="n">append</span><span class="p">(</span>

            <span class="p">(</span><span class="n">urwid</span><span class="p">.</span><span class="n">AttrMap</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span>

                           <span class="n">focus_map</span><span class="p">),</span> <span class="k">self</span><span class="p">.</span><span class="k">options</span><span class="p">(</span><span class="s1">&#39;given&#39;</span><span class="p">,</span> <span class="mi">80</span><span class="p">)))</span>

        <span class="k">self</span><span class="p">.</span><span class="n">focus_position</span> <span class="o">=</span> <span class="n">len</span><span class="p">(</span><span class="k">self</span><span class="p">.</span><span class="n">contents</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</code></pre></div>


</details>
<h5 id="options">options</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">options</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">width_type</span><span class="o">=</span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
    <span class="n">width_amount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">box_widget</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<p>Return a new options tuple for use in a Pile's .contents list.</p>
<p>This sets an entry's width type: one of the following:</p>
<p><code>'pack'</code>
    Call the widget's :meth:<code>Widget.pack</code> method to determine how wide
    this column should be. <em>width_amount</em> is ignored.
<code>'given'</code>
    Make column exactly width_amount screen-columns wide.
<code>'weight'</code>
    Allocate the remaining space to this column by using
    <em>width_amount</em> as a weight value.</p>
<p>:param width_type: <code>'pack'</code>, <code>'given'</code> or <code>'weight'</code>
:param width_amount: <code>None</code> for <code>'pack'</code>, a number of screen columns
    for <code>'given'</code> or a weight value (number) for <code>'weight'</code>
:param box_widget: set to <code>True</code> if this widget is to be treated as a box
    widget when the Columns widget itself is treated as a flow widget.
:type box_widget: bool</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="nf">options</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">width_type</span><span class="o">=</span><span class="n">WEIGHT</span><span class="p">,</span> <span class="n">width_amount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">box_widget</span><span class="o">=</span><span class="no">False</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        Return a new options tuple for use in a Pile&#39;s .contents list.</span>

<span class="s2">        This sets an entry&#39;s width type: one of the following:</span>

<span class="s2">        ``&#39;pack&#39;``</span>

<span class="s2">            Call the widget&#39;s :meth:`Widget.pack` method to determine how wide</span>

<span class="s2">            this column should be. *width_amount* is ignored.</span>

<span class="s2">        ``&#39;given&#39;``</span>

<span class="s2">            Make column exactly width_amount screen-columns wide.</span>

<span class="s2">        ``&#39;weight&#39;``</span>

<span class="s2">            Allocate the remaining space to this column by using</span>

<span class="s2">            *width_amount* as a weight value.</span>

<span class="s2">        :param width_type: ``&#39;pack&#39;``, ``&#39;given&#39;`` or ``&#39;weight&#39;``</span>

<span class="s2">        :param width_amount: ``None`` for ``&#39;pack&#39;``, a number of screen columns</span>

<span class="s2">            for ``&#39;given&#39;`` or a weight value (number) for ``&#39;weight&#39;``</span>

<span class="s2">        :param box_widget: set to `True` if this widget is to be treated as a box</span>

<span class="s2">            widget when the Columns widget itself is treated as a flow widget.</span>

<span class="s2">        :type box_widget: bool</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">width_type</span> <span class="o">==</span> <span class="n">PACK</span><span class="p">:</span>

            <span class="n">width_amount</span> <span class="o">=</span> <span class="n">None</span>

        <span class="k">if</span> <span class="n">width_type</span> <span class="k">not</span> <span class="k">in</span> <span class="p">(</span><span class="n">PACK</span><span class="p">,</span> <span class="n">GIVEN</span><span class="p">,</span> <span class="n">WEIGHT</span><span class="p">):</span>

            <span class="n">raise</span> <span class="nf">ColumnsError</span><span class="p">(</span><span class="s1">&#39;invalid width_type: %r&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">width_type</span><span class="p">,))</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">width_type</span><span class="p">,</span> <span class="n">width_amount</span><span class="p">,</span> <span class="n">box_widget</span><span class="p">)</span>
</code></pre></div>


</details>
<h5 id="pack">pack</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">pack</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">focus</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<p>See :meth:<code>Widget.render</code> for parameter details.</p>
<p>:returns: A "packed" size (<em>maxcol</em>, <em>maxrow</em>) for this widget</p>
<p>Calculate and return a minimum
size where all content could still be displayed. Fixed widgets must
implement this method and return their size when <code>()</code> is passed as the
<em>size</em> parameter.</p>
<p>This default implementation returns the <em>size</em> passed, or the <em>maxcol</em>
passed and the value of :meth:<code>rows</code> as the <em>maxrow</em> when (<em>maxcol</em>,)
is passed as the <em>size</em> parameter.</p>
<p>.. note::</p>
<p>This is a new method that hasn't been fully implemented across the
   standard widget types. In particular it has not yet been
   implemented for container widgets.</p>
<p>:class:<code>Text</code> widgets have implemented this method.
You can use :meth:<code>Text.pack</code> to calculate the minimum
columns and rows required to display a text widget without wrapping,
or call it iteratively to calculate the minimum number of columns
required to display the text wrapped into a target number of rows.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="nf">pack</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="no">False</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        See :meth:`Widget.render` for parameter details.</span>

<span class="s2">        :returns: A &quot;</span><span class="n">packed</span><span class="s2">&quot; size (*maxcol*, *maxrow*) for this widget</span>

<span class="s2">        Calculate and return a minimum</span>

<span class="s2">        size where all content could still be displayed. Fixed widgets must</span>

<span class="s2">        implement this method and return their size when ``()`` is passed as the</span>

<span class="s2">        *size* parameter.</span>

<span class="s2">        This default implementation returns the *size* passed, or the *maxcol*</span>

<span class="s2">        passed and the value of :meth:`rows` as the *maxrow* when (*maxcol*,)</span>

<span class="s2">        is passed as the *size* parameter.</span>

<span class="s2">        .. note::</span>

<span class="s2">           This is a new method that hasn&#39;t been fully implemented across the</span>

<span class="s2">           standard widget types. In particular it has not yet been</span>

<span class="s2">           implemented for container widgets.</span>

<span class="s2">        :class:`Text` widgets have implemented this method.</span>

<span class="s2">        You can use :meth:`Text.pack` to calculate the minimum</span>

<span class="s2">        columns and rows required to display a text widget without wrapping,</span>

<span class="s2">        or call it iteratively to calculate the minimum number of columns</span>

<span class="s2">        required to display the text wrapped into a target number of rows.</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="k">not</span> <span class="n">size</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">FIXED</span> <span class="k">in</span> <span class="n">self</span><span class="p">.</span><span class="nf">sizing</span><span class="p">():</span>

                <span class="n">raise</span> <span class="nf">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;Fixed widgets must override&#39;</span>

                    <span class="s1">&#39; Widget.pack()&#39;</span><span class="p">)</span>

            <span class="n">raise</span> <span class="nf">WidgetError</span><span class="p">(</span><span class="s1">&#39;Cannot pack () size, this is not a fixed&#39;</span>

                <span class="s1">&#39; widget: %s&#39;</span> <span class="o">%</span> <span class="nf">repr</span><span class="p">(</span><span class="n">self</span><span class="p">))</span>

        <span class="n">elif</span> <span class="nf">len</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">FLOW</span> <span class="k">in</span> <span class="n">self</span><span class="p">.</span><span class="nf">sizing</span><span class="p">():</span>

                <span class="k">return</span> <span class="n">size</span> <span class="o">+</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">rows</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">),)</span>

            <span class="n">raise</span> <span class="nf">WidgetError</span><span class="p">(</span><span class="s1">&#39;Cannot pack (maxcol,) size, this is not a&#39;</span>

                <span class="s1">&#39; flow widget: %s&#39;</span> <span class="o">%</span> <span class="nf">repr</span><span class="p">(</span><span class="n">self</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">size</span>
</code></pre></div>


</details>
<h5 id="render_1">render</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">focus</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<p>Render columns and return canvas.</p>
<p>:param size: see :meth:<code>Widget.render</code> for details
:param focus: <code>True</code> if this widget is in focus
:type focus: bool</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cached_render</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="k">False</span><span class="p">):</span>

        <span class="n">focus</span> <span class="o">=</span> <span class="n">focus</span> <span class="k">and</span> <span class="k">not</span> <span class="n">ignore_focus</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">CanvasCache</span><span class="p">.</span><span class="k">fetch</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">cls</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">canv</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="n">focus</span><span class="p">)</span>

        <span class="n">validate_size</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">.</span><span class="n">widget_info</span><span class="p">:</span>

            <span class="n">canv</span> <span class="o">=</span> <span class="n">CompositeCanvas</span><span class="p">(</span><span class="n">canv</span><span class="p">)</span>

        <span class="n">canv</span><span class="p">.</span><span class="n">finalize</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="n">CanvasCache</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">canv</span>
</code></pre></div>


</details>
<h5 id="rows">rows</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">rows</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">focus</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<p>Return the number of rows required by the columns.
This only makes sense if :attr:<code>widget_list</code> contains flow widgets.</p>
<p>see :meth:<code>Widget.rows</code> for details</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cached_rows</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="k">False</span><span class="p">):</span>

        <span class="n">focus</span> <span class="o">=</span> <span class="n">focus</span> <span class="k">and</span> <span class="k">not</span> <span class="n">ignore_focus</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">CanvasCache</span><span class="p">.</span><span class="k">fetch</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">cls</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">canv</span><span class="p">.</span><span class="k">rows</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">fn</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>
</code></pre></div>


</details>
<h5 id="selectable">selectable</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">selectable</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>:returns: <code>True</code> if this is a widget that is designed to take the
          focus, i.e. it contains something the user might want to
          interact with, <code>False</code> otherwise,</p>
<p>This default implementation returns :attr:<code>._selectable</code>.
Subclasses may leave these is if the are not selectable,
or if they are always selectable they may
set the :attr:<code>_selectable</code> class variable to <code>True</code>.</p>
<p>If this method returns <code>True</code> then the :meth:<code>.keypress</code> method
must be implemented.</p>
<p>Returning <code>False</code> does not guarantee that this widget will never be in
focus, only that this widget will usually be skipped over when changing
focus. It is still possible for non selectable widgets to have the focus
(typically when there are no other selectable widgets visible).</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="nf">selectable</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        :returns: ``True`` if this is a widget that is designed to take the</span>

<span class="s2">                  focus, i.e. it contains something the user might want to</span>

<span class="s2">                  interact with, ``False`` otherwise,</span>

<span class="s2">        This default implementation returns :attr:`._selectable`.</span>

<span class="s2">        Subclasses may leave these is if the are not selectable,</span>

<span class="s2">        or if they are always selectable they may</span>

<span class="s2">        set the :attr:`_selectable` class variable to ``True``.</span>

<span class="s2">        If this method returns ``True`` then the :meth:`.keypress` method</span>

<span class="s2">        must be implemented.</span>

<span class="s2">        Returning ``False`` does not guarantee that this widget will never be in</span>

<span class="s2">        focus, only that this widget will usually be skipped over when changing</span>

<span class="s2">        focus. It is still possible for non selectable widgets to have the focus</span>

<span class="s2">        (typically when there are no other selectable widgets visible).</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">_selectable</span>
</code></pre></div>


</details>
<h5 id="set_focus">set_focus</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">set_focus</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">item</span>
<span class="p">)</span>
</code></pre></div>


<p>Set the item in focus</p>
<p>.. note:: only for backwards compatibility. You may also use the new
    standard container property :attr:<code>focus_position</code> to get the focus.</p>
<p>:param item: widget or integer index</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="nf">set_focus</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        Set the item in focus</span>

<span class="s2">        .. note:: only for backwards compatibility. You may also use the new</span>

<span class="s2">            standard container property :attr:`focus_position` to get the focus.</span>

<span class="s2">        :param item: widget or integer index&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="kt">int</span><span class="p">):</span>

            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="nf">_set_focus_position</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span> <span class="k">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">contents</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="n">w</span><span class="p">:</span>

                <span class="n">self</span><span class="p">.</span><span class="n">focus_position</span> <span class="o">=</span> <span class="n">i</span>

                <span class="k">return</span>

        <span class="n">raise</span> <span class="nf">ValueError</span><span class="p">(</span><span class="s2">&quot;Widget not found in Columns contents: %r&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">item</span><span class="p">,))</span>
</code></pre></div>


</details>
<h5 id="set_focus_column">set_focus_column</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">set_focus_column</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">num</span>
<span class="p">)</span>
</code></pre></div>


<p>Set the column in focus by its index in :attr:<code>widget_list</code>.</p>
<p>:param num: index of focus-to-be entry
:type num: int</p>
<p>.. note:: only for backwards compatibility. You may also use the new
    standard container property :attr:<code>focus_position</code> to set the focus.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="nf">set_focus_column</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        Set the column in focus by its index in :attr:`widget_list`.</span>

<span class="s2">        :param num: index of focus-to-be entry</span>

<span class="s2">        :type num: int</span>

<span class="s2">        .. note:: only for backwards compatibility. You may also use the new</span>

<span class="s2">            standard container property :attr:`focus_position` to set the focus.</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">self</span><span class="p">.</span><span class="nf">_set_focus_position</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
</code></pre></div>


</details>
<h5 id="set_focus_path">set_focus_path</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">set_focus_path</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">positions</span>
<span class="p">)</span>
</code></pre></div>


<p>Set the .focus_position property starting from this container
widget and proceeding along newly focused child widgets.  Any
failed assignment due do incompatible position types or invalid
positions will raise an IndexError.</p>
<p>This method may be used to restore a particular widget to the
focus by passing in the value returned from an earlier call to
get_focus_path().</p>
<p>positions -- sequence of positions</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">set_focus_path</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">positions</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Set the .focus_position property starting from this container</span>

<span class="ss">        widget and proceeding along newly focused child widgets.  Any</span>

<span class="ss">        failed assignment due do incompatible position types or invalid</span>

<span class="ss">        positions will raise an IndexError.</span>

<span class="ss">        This method may be used to restore a particular widget to the</span>

<span class="ss">        focus by passing in the value returned from an earlier call to</span>

<span class="ss">        get_focus_path().</span>

<span class="ss">        positions -- sequence of positions</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="n">w</span> <span class="o">=</span> <span class="k">self</span>

        <span class="k">for</span> <span class="n">p</span> <span class="k">in</span> <span class="n">positions</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="n">w</span><span class="p">.</span><span class="n">focus_position</span><span class="p">:</span>

                <span class="n">w</span><span class="p">.</span><span class="n">focus_position</span> <span class="o">=</span> <span class="n">p</span> <span class="o">#</span> <span class="k">modifies</span> <span class="n">w</span><span class="p">.</span><span class="n">focus</span>

            <span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="p">.</span><span class="n">focus</span><span class="p">.</span><span class="n">base_widget</span>
</code></pre></div>


</details>
<h5 id="sizing">sizing</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">sizing</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>:returns: A frozenset including one or more of <code>'box'</code>, <code>'flow'</code> and
          <code>'fixed'</code>.  Default implementation returns the value of
          :attr:<code>._sizing</code>, which for this class includes all three.</p>
<p>The sizing modes returned indicate the modes that may be
supported by this widget, but is not sufficient to know
that using that sizing mode will work.  Subclasses should
make an effort to remove sizing modes they know will not
work given the state of the widget, but many do not yet
do this.</p>
<p>If a sizing mode is missing from the set then the widget
should fail when used in that mode.</p>
<p>If <code>'flow'</code> is among the values returned then the other
methods in this widget must be able to accept a
single-element tuple (<em>maxcol</em>,) to their <code>size</code>
parameter, and the :meth:<code>rows</code> method must be defined.</p>
<p>If <code>'box'</code> is among the values returned then the other
methods must be able to accept a two-element tuple
(<em>maxcol</em>, <em>maxrow</em>) to their size parameter.</p>
<p>If <code>'fixed'</code> is among the values returned then the other
methods must be able to accept an empty tuple () to
their size parameter, and the :meth:<code>pack</code> method must
be defined.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="nf">sizing</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>

        <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        :returns: A frozenset including one or more of ``&#39;box&#39;``, ``&#39;flow&#39;`` and</span>

<span class="s2">                  ``&#39;fixed&#39;``.  Default implementation returns the value of</span>

<span class="s2">                  :attr:`._sizing`, which for this class includes all three.</span>

<span class="s2">        The sizing modes returned indicate the modes that may be</span>

<span class="s2">        supported by this widget, but is not sufficient to know</span>

<span class="s2">        that using that sizing mode will work.  Subclasses should</span>

<span class="s2">        make an effort to remove sizing modes they know will not</span>

<span class="s2">        work given the state of the widget, but many do not yet</span>

<span class="s2">        do this.</span>

<span class="s2">        If a sizing mode is missing from the set then the widget</span>

<span class="s2">        should fail when used in that mode.</span>

<span class="s2">        If ``&#39;flow&#39;`` is among the values returned then the other</span>

<span class="s2">        methods in this widget must be able to accept a</span>

<span class="s2">        single-element tuple (*maxcol*,) to their ``size``</span>

<span class="s2">        parameter, and the :meth:`rows` method must be defined.</span>

<span class="s2">        If ``&#39;box&#39;`` is among the values returned then the other</span>

<span class="s2">        methods must be able to accept a two-element tuple</span>

<span class="s2">        (*maxcol*, *maxrow*) to their size parameter.</span>

<span class="s2">        If ``&#39;fixed&#39;`` is among the values returned then the other</span>

<span class="s2">        methods must be able to accept an empty tuple () to</span>

<span class="s2">        their size parameter, and the :meth:`pack` method must</span>

<span class="s2">        be defined.</span>

<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">_sizing</span>
</code></pre></div>


</details>
<h3 id="menubutton">MenuButton</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">MenuButton</span><span class="p">(</span>
    <span class="n">caption</span><span class="p">,</span>
    <span class="n">callback</span>
<span class="p">)</span>
</code></pre></div>


<p>Widget base class</p>
<p>.. attribute:: _selectable
   :annotation: = False</p>
<p>The default :meth:<code>.selectable</code> method returns this
   value.</p>
<p>.. attribute:: _sizing
   :annotation: = frozenset(['flow', 'box', 'fixed'])</p>
<p>The default :meth:<code>.sizing</code> method returns this value.</p>
<p>.. attribute:: _command_map
   :annotation: = urwid.command_map</p>
<p>A shared :class:<code>CommandMap</code> instance. May be redefined
   in subclasses or widget instances.</p>
<p>.. method:: render(size, focus=False)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any concrete subclass</span>
</code></pre></div>


<p>:param size: One of the following,
                <em>maxcol</em> and <em>maxrow</em> are integers &gt; 0:</p>
<div class="codehilite"><pre><span></span><code>            <span class="p">(</span><span class="o">*</span><span class="n">maxcol</span><span class="o">*</span><span class="p">,</span> <span class="o">*</span><span class="n">maxrow</span><span class="o">*</span><span class="p">)</span>
              <span class="k">for</span> <span class="n">box</span> <span class="n">sizing</span> <span class="c1">-- the parent chooses the exact</span>
              <span class="k">size</span> <span class="k">of</span> <span class="n">this</span> <span class="n">widget</span>

            <span class="p">(</span><span class="o">*</span><span class="n">maxcol</span><span class="o">*</span><span class="p">,)</span>
              <span class="k">for</span> <span class="n">flow</span> <span class="n">sizing</span> <span class="c1">-- the parent chooses only the</span>
              <span class="nb">number</span> <span class="k">of</span> <span class="n">columns</span> <span class="k">for</span> <span class="n">this</span> <span class="n">widget</span>

            <span class="p">()</span>
              <span class="k">for</span> <span class="n">fixed</span> <span class="n">sizing</span> <span class="c1">-- this widget is a fixed size</span>
              <span class="n">which</span> <span class="n">can</span><span class="err">&#39;</span><span class="n">t</span> <span class="n">be</span> <span class="n">adjusted</span> <span class="k">by</span> <span class="n">the</span> <span class="n">parent</span>
</code></pre></div>


<p>:type size: widget size
   :param focus: set to <code>True</code> if this widget or one of its children
                 is in focus
   :type focus: bool</p>
<p>:returns: A :class:<code>Canvas</code> subclass instance containing the
             rendered content of this widget</p>
<p>:class:<code>Text</code> widgets return a :class:<code>TextCanvas</code> (arbitrary text and
   display attributes), :class:<code>SolidFill</code> widgets return a
   :class:<code>SolidCanvas</code> (a single character repeated across
   the whole surface) and container widgets return a
   :class:<code>CompositeCanvas</code> (one or more other canvases
   arranged arbitrarily).</p>
<p>If <em>focus</em> is <code>False</code>, the returned canvas may not have a cursor
   position set.</p>
<p>There is some metaclass magic defined in the :class:<code>Widget</code>
   metaclass :class:<code>WidgetMeta</code> that causes the
   result of this method to be cached by :class:<code>CanvasCache</code>.
   Later calls will automatically look up the value in the cache first.</p>
<p>As a small optimization the class variable :attr:<code>ignore_focus</code>
   may be defined and set to <code>True</code> if this widget renders the same
   canvas regardless of the value of the <em>focus</em> parameter.</p>
<p>Any time the content of a widget changes it should call
   :meth:<code>_invalidate</code> to remove any cached canvases, or the widget
   may render the cached canvas instead of creating a new one.</p>
<p>.. method:: rows(size, focus=False)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any flow widget.  See :meth:`.sizing`.</span>
</code></pre></div>


<p>See :meth:<code>Widget.render</code> for parameter details.</p>
<p>:returns: The number of rows required for this widget given a number
             of columns in <em>size</em></p>
<p>This is the method flow widgets use to communicate their size to other
   widgets without having to render a canvas. This should be a quick
   calculation as this function may be called a number of times in normal
   operation. If your implementation may take a long time you should add
   your own caching here.</p>
<p>There is some metaclass magic defined in the :class:<code>Widget</code>
   metaclass :class:<code>WidgetMeta</code> that causes the
   result of this function to be retrieved from any
   canvas cached by :class:<code>CanvasCache</code>, so if your widget
   has been rendered you may not receive calls to this function. The class
   variable :attr:<code>ignore_focus</code> may be defined and set to <code>True</code> if this
   widget renders the same size regardless of the value of the <em>focus</em>
   parameter.</p>
<p>.. method:: keypress(size, key)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any selectable widget.</span>
<span class="err">  See :meth:`.selectable`.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details
   :type size: widget size
   :param key: a single keystroke value; see :ref:<code>keyboard-input</code>
   :type key: bytes or unicode</p>
<p>:returns: <code>None</code> if <em>key</em> was handled by this widget or
             <em>key</em> (the same value passed) if <em>key</em> was not handled
             by this widget</p>
<p>Container widgets will typically call the :meth:<code>keypress</code> method on
   whichever of their children is set as the focus.</p>
<p>The standard widgets use :attr:<code>_command_map</code> to
   determine what action should be performed for a given <em>key</em>. You may
   modify these values to your liking globally, at some level in the
   widget hierarchy or on individual widgets. See :class:<code>CommandMap</code>
   for the defaults.</p>
<p>In your own widgets you may use whatever logic you like: filtering or
   translating keys, selectively passing along events etc.</p>
<p>.. method:: mouse_event(size, event, button, col, row, focus)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">may</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">a</span> <span class="n">subclass</span><span class="p">.</span>  <span class="k">Not</span> <span class="n">implementing</span> <span class="n">this</span>
  <span class="n">method</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="k">having</span> <span class="n">a</span> <span class="n">method</span> <span class="n">that</span> <span class="n">always</span> <span class="n">returns</span>
  <span class="ss">``</span><span class="no">False</span><span class="ss">``</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size
   :param event: Values such as <code>'mouse press'</code>, <code>'ctrl mouse press'</code>,
                 <code>'mouse release'</code>, <code>'meta mouse release'</code>,
                 <code>'mouse drag'</code>; see :ref:<code>mouse-input</code>
   :type event: mouse event
   :param button: 1 through 5 for press events, often 0 for release events
                  (which button was released is often not known)
   :type button: int
   :param col: Column of the event, 0 is the left edge of this widget
   :type col: int
   :param row: Row of the event, 0 it the top row of this widget
   :type row: int
   :param focus: Set to <code>True</code> if this widget or one of its children
                 is in focus
   :type focus: bool</p>
<p>:returns: <code>True</code> if the event was handled by this widget, <code>False</code>
             otherwise</p>
<p>Container widgets will typically call the :meth:<code>mouse_event</code> method on
   whichever of their children is at the position (<em>col</em>, <em>row</em>).</p>
<p>.. method:: get_cursor_coords(size)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">must</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">any</span> <span class="n">widget</span> <span class="n">that</span> <span class="n">may</span> <span class="k">return</span> <span class="k">cursor</span>
  <span class="n">coordinates</span> <span class="k">as</span> <span class="n">part</span> <span class="n">of</span> <span class="n">the</span> <span class="n">canvas</span> <span class="n">that</span> <span class="p">:</span><span class="n">meth</span><span class="p">:</span><span class="ss">`render`</span> <span class="n">returns</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size</p>
<p>:returns: (<em>col</em>, <em>row</em>) if this widget has a cursor, <code>None</code> otherwise</p>
<p>Return the cursor coordinates (<em>col</em>, <em>row</em>) of a cursor that will appear
   as part of the canvas rendered by this widget when in focus, or <code>None</code>
   if no cursor is displayed.</p>
<p>The :class:<code>ListBox</code> widget
   uses this method to make sure a cursor in the focus widget is not
   scrolled out of view.  It is a separate method to avoid having to render
   the whole widget while calculating layout.</p>
<p>Container widgets will typically call the :meth:<code>.get_cursor_coords</code>
   method on their focus widget.</p>
<p>.. method:: get_pref_col(size)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  may be implemented by a subclass.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size</p>
<p>:returns: a column number or <code>'left'</code> for the leftmost available
             column or <code>'right'</code> for the rightmost available column</p>
<p>Return the preferred column for the cursor to be displayed in this
   widget. This value might not be the same as the column returned from
   :meth:<code>get_cursor_coords</code>.</p>
<p>The :class:<code>ListBox</code> and :class:<code>Pile</code>
   widgets call this method on a widget losing focus and use the value
   returned to call :meth:<code>.move_cursor_to_coords</code> on the widget becoming
   the focus. This allows the focus to move up and down through widgets
   while keeping the cursor in approximately the same column on screen.</p>
<p>.. method:: move_cursor_to_coords(size, col, row)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">may</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">a</span> <span class="n">subclass</span><span class="p">.</span>  <span class="k">Not</span> <span class="n">implementing</span> <span class="n">this</span>
  <span class="n">method</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="k">having</span> <span class="n">a</span> <span class="n">method</span> <span class="n">that</span> <span class="n">always</span> <span class="n">returns</span>
  <span class="ss">``</span><span class="no">False</span><span class="ss">``</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size
   :param col: new column for the cursor, 0 is the left edge of this widget
   :type col: int
   :param row: new row for the cursor, 0 it the top row of this widget
   :type row: int</p>
<p>:returns: <code>True</code> if the position was set successfully anywhere on
             <em>row</em>, <code>False</code> otherwise</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">MenuButton</span>(<span class="n">urwid</span>.<span class="n">Button</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="nb">self</span>, <span class="nb">caption</span>, <span class="n">callback</span>):

        <span class="n">super</span>(<span class="n">MenuButton</span>, <span class="nb">self</span>).<span class="n">__init__</span>(<span class="s">&quot;&quot;</span>)

        <span class="n">urwid</span>.<span class="n">connect_signal</span>(<span class="nb">self</span>, <span class="s">&#39;click&#39;</span>, <span class="n">callback</span>)

        <span class="nb">self</span>.<span class="n">_w</span> = <span class="n">urwid</span>.<span class="n">AttrMap</span>(

            <span class="n">urwid</span>.<span class="n">SelectableIcon</span>([<span class="n">u&#39;</span>  \<span class="n">N</span>{<span class="n">BULLET</span>} <span class="s">&#39;, caption], 2), None,</span>

<span class="s">            &#39;</span><span class="n">selected&#39;</span>)
</code></pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro_5">Ancestors (in MRO)</h4>
<ul>
<li>urwid.wimp.Button</li>
<li>urwid.widget.WidgetWrap</li>
<li>urwid.widget.DelegateToWidgetMixin</li>
<li>urwid.widget.Widget</li>
</ul>
<h4 id="class-variables_3">Class variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">button_left</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">button_right</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">signals</span>
</code></pre></div>


<h4 id="instance-variables_5">Instance variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">base_widget</span>
</code></pre></div>


<p>Read-only property that steps through decoration widgets
and returns the one at the base.  This default implementation
returns self.</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus</span>
</code></pre></div>


<p>Read-only property returning the child widget in focus for
container widgets.  This default implementation
always returns <code>None</code>, indicating that this widget has no children.</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus_position</span>
</code></pre></div>


<p>Property for reading and setting the focus position for
container widgets. This default implementation raises
:exc:<code>IndexError</code>, making normal widgets fail the same way
accessing :attr:<code>.focus_position</code> on an empty container widget would.</p>
<div class="codehilite"><pre><span></span><code><span class="n">get_cursor_coords</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">get_pref_col</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">label</span>
</code></pre></div>


<p>Return label text.</p>
<blockquote>
<blockquote>
<blockquote>
<p>b = Button(u"Ok")
print(b.get_label())
Ok
print(b.label)
Ok</p>
</blockquote>
</blockquote>
</blockquote>
<div class="codehilite"><pre><span></span><code><span class="n">move_cursor_to_coords</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">pack</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">rows</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">selectable</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">w</span>
</code></pre></div>


<h4 id="methods_5">Methods</h4>
<h5 id="get_label">get_label</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_label</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>Return label text.</p>
<blockquote>
<blockquote>
<blockquote>
<p>b = Button(u"Ok")
print(b.get_label())
Ok
print(b.label)
Ok</p>
</blockquote>
</blockquote>
</blockquote>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">get_label</span><span class="p">(</span><span class="k">self</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Return label text.</span>

<span class="ss">        &gt;&gt;&gt; b = Button(u&quot;</span><span class="n">Ok</span><span class="ss">&quot;)</span>

<span class="ss">        &gt;&gt;&gt; print(b.get_label())</span>

<span class="ss">        Ok</span>

<span class="ss">        &gt;&gt;&gt; print(b.label)</span>

<span class="ss">        Ok</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="k">self</span><span class="p">.</span><span class="n">_label</span><span class="p">.</span><span class="nb">text</span>
</code></pre></div>


</details>
<h5 id="keypress_1">keypress</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">keypress</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">key</span>
<span class="p">)</span>
</code></pre></div>


<p>Send 'click' signal on 'activate' command.</p>
<blockquote>
<blockquote>
<blockquote>
<p>assert Button._command_map[' '] == 'activate'
assert Button._command_map['enter'] == 'activate'
size = (15,)
b = Button(u"Cancel")
clicked_buttons = []
def handle_click(button):
...     clicked_buttons.append(button.label)
key = connect_signal(b, 'click', handle_click)
b.keypress(size, 'enter')
b.keypress(size, ' ')
clicked_buttons # ... = u in Python 2
[...'Cancel', ...'Cancel']</p>
</blockquote>
</blockquote>
</blockquote>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">keypress</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Send &#39;click&#39; signal on &#39;activate&#39; command.</span>

<span class="ss">        &gt;&gt;&gt; assert Button._command_map[&#39; &#39;] == &#39;activate&#39;</span>

<span class="ss">        &gt;&gt;&gt; assert Button._command_map[&#39;enter&#39;] == &#39;activate&#39;</span>

<span class="ss">        &gt;&gt;&gt; size = (15,)</span>

<span class="ss">        &gt;&gt;&gt; b = Button(u&quot;</span><span class="n">Cancel</span><span class="ss">&quot;)</span>

<span class="ss">        &gt;&gt;&gt; clicked_buttons = []</span>

<span class="ss">        &gt;&gt;&gt; def handle_click(button):</span>

<span class="ss">        ...     clicked_buttons.append(button.label)</span>

<span class="ss">        &gt;&gt;&gt; key = connect_signal(b, &#39;click&#39;, handle_click)</span>

<span class="ss">        &gt;&gt;&gt; b.keypress(size, &#39;enter&#39;)</span>

<span class="ss">        &gt;&gt;&gt; b.keypress(size, &#39; &#39;)</span>

<span class="ss">        &gt;&gt;&gt; clicked_buttons # ... = u in Python 2</span>

<span class="ss">        [...&#39;Cancel&#39;, ...&#39;Cancel&#39;]</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_command_map</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nl">ACTIVATE</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">key</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">_emit</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>


</details>
<h5 id="mouse_event_1">mouse_event</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">mouse_event</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">event</span><span class="p">,</span>
    <span class="n">button</span><span class="p">,</span>
    <span class="n">x</span><span class="p">,</span>
    <span class="n">y</span><span class="p">,</span>
    <span class="n">focus</span>
<span class="p">)</span>
</code></pre></div>


<p>Send 'click' signal on button 1 press.</p>
<blockquote>
<blockquote>
<blockquote>
<p>size = (15,)
b = Button(u"Ok")
clicked_buttons = []
def handle_click(button):
...     clicked_buttons.append(button.label)
key = connect_signal(b, 'click', handle_click)
b.mouse_event(size, 'mouse press', 1, 4, 0, True)
True
b.mouse_event(size, 'mouse press', 2, 4, 0, True) # ignored
False
clicked_buttons # ... = u in Python 2
[...'Ok']</p>
</blockquote>
</blockquote>
</blockquote>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">mouse_event</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">button</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">focus</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Send &#39;click&#39; signal on button 1 press.</span>

<span class="ss">        &gt;&gt;&gt; size = (15,)</span>

<span class="ss">        &gt;&gt;&gt; b = Button(u&quot;</span><span class="n">Ok</span><span class="ss">&quot;)</span>

<span class="ss">        &gt;&gt;&gt; clicked_buttons = []</span>

<span class="ss">        &gt;&gt;&gt; def handle_click(button):</span>

<span class="ss">        ...     clicked_buttons.append(button.label)</span>

<span class="ss">        &gt;&gt;&gt; key = connect_signal(b, &#39;click&#39;, handle_click)</span>

<span class="ss">        &gt;&gt;&gt; b.mouse_event(size, &#39;mouse press&#39;, 1, 4, 0, True)</span>

<span class="ss">        True</span>

<span class="ss">        &gt;&gt;&gt; b.mouse_event(size, &#39;mouse press&#39;, 2, 4, 0, True) # ignored</span>

<span class="ss">        False</span>

<span class="ss">        &gt;&gt;&gt; clicked_buttons # ... = u in Python 2</span>

<span class="ss">        [...&#39;Ok&#39;]</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">button</span> <span class="o">!=</span> <span class="mi">1</span> <span class="k">or</span> <span class="k">not</span> <span class="n">is_mouse_press</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>

            <span class="k">return</span> <span class="k">False</span>

        <span class="k">self</span><span class="p">.</span><span class="n">_emit</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">True</span>
</code></pre></div>


</details>
<h5 id="render_2">render</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">focus</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cached_render</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="k">False</span><span class="p">):</span>

        <span class="n">focus</span> <span class="o">=</span> <span class="n">focus</span> <span class="k">and</span> <span class="k">not</span> <span class="n">ignore_focus</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">CanvasCache</span><span class="p">.</span><span class="k">fetch</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">cls</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">canv</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="n">focus</span><span class="p">)</span>

        <span class="n">validate_size</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">.</span><span class="n">widget_info</span><span class="p">:</span>

            <span class="n">canv</span> <span class="o">=</span> <span class="n">CompositeCanvas</span><span class="p">(</span><span class="n">canv</span><span class="p">)</span>

        <span class="n">canv</span><span class="p">.</span><span class="n">finalize</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="n">CanvasCache</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">canv</span>
</code></pre></div>


</details>
<h5 id="set_label">set_label</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">set_label</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">label</span>
<span class="p">)</span>
</code></pre></div>


<p>Change the button label.</p>
<p>label -- markup for button label</p>
<blockquote>
<blockquote>
<blockquote>
<p>b = Button("Ok")
b.set_label(u"Yup yup")
b
<Button selectable flow widget 'Yup yup'></p>
</blockquote>
</blockquote>
</blockquote>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">set_label</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Change the button label.</span>

<span class="ss">        label -- markup for button label</span>

<span class="ss">        &gt;&gt;&gt; b = Button(&quot;</span><span class="n">Ok</span><span class="ss">&quot;)</span>

<span class="ss">        &gt;&gt;&gt; b.set_label(u&quot;</span><span class="n">Yup</span> <span class="n">yup</span><span class="ss">&quot;)</span>

<span class="ss">        &gt;&gt;&gt; b</span>

<span class="ss">        &lt;Button selectable flow widget &#39;Yup yup&#39;&gt;</span>

<span class="ss">        &quot;&quot;&quot;</span>

        <span class="k">self</span><span class="p">.</span><span class="n">_label</span><span class="p">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
</code></pre></div>


</details>
<h5 id="sizing_1">sizing</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">sizing</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>


<p>:returns: A frozenset including one or more of <code>'box'</code>, <code>'flow'</code> and
          <code>'fixed'</code>.  Default implementation returns the value of
          :attr:<code>._sizing</code>, which for this class includes all three.</p>
<p>The sizing modes returned indicate the modes that may be
supported by this widget, but is not sufficient to know
that using that sizing mode will work.  Subclasses should
make an effort to remove sizing modes they know will not
work given the state of the widget, but many do not yet
do this.</p>
<p>If a sizing mode is missing from the set then the widget
should fail when used in that mode.</p>
<p>If <code>'flow'</code> is among the values returned then the other
methods in this widget must be able to accept a
single-element tuple (<em>maxcol</em>,) to their <code>size</code>
parameter, and the :meth:<code>rows</code> method must be defined.</p>
<p>If <code>'box'</code> is among the values returned then the other
methods must be able to accept a two-element tuple
(<em>maxcol</em>, <em>maxrow</em>) to their size parameter.</p>
<p>If <code>'fixed'</code> is among the values returned then the other
methods must be able to accept an empty tuple () to
their size parameter, and the :meth:<code>pack</code> method must
be defined.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">sizing</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">frozenset</span><span class="p">(</span><span class="o">[</span><span class="n">FLOW</span><span class="o">]</span><span class="p">)</span><span class="w"></span>
</code></pre></div>


</details>
<h3 id="submenu">SubMenu</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">SubMenu</span><span class="p">(</span>
    <span class="n">caption</span><span class="p">,</span>
    <span class="n">choices</span><span class="p">,</span>
    <span class="n">top</span>
<span class="p">)</span>
</code></pre></div>


<p>Widget base class</p>
<p>.. attribute:: _selectable
   :annotation: = False</p>
<p>The default :meth:<code>.selectable</code> method returns this
   value.</p>
<p>.. attribute:: _sizing
   :annotation: = frozenset(['flow', 'box', 'fixed'])</p>
<p>The default :meth:<code>.sizing</code> method returns this value.</p>
<p>.. attribute:: _command_map
   :annotation: = urwid.command_map</p>
<p>A shared :class:<code>CommandMap</code> instance. May be redefined
   in subclasses or widget instances.</p>
<p>.. method:: render(size, focus=False)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any concrete subclass</span>
</code></pre></div>


<p>:param size: One of the following,
                <em>maxcol</em> and <em>maxrow</em> are integers &gt; 0:</p>
<div class="codehilite"><pre><span></span><code>            <span class="p">(</span><span class="o">*</span><span class="n">maxcol</span><span class="o">*</span><span class="p">,</span> <span class="o">*</span><span class="n">maxrow</span><span class="o">*</span><span class="p">)</span>
              <span class="k">for</span> <span class="n">box</span> <span class="n">sizing</span> <span class="c1">-- the parent chooses the exact</span>
              <span class="k">size</span> <span class="k">of</span> <span class="n">this</span> <span class="n">widget</span>

            <span class="p">(</span><span class="o">*</span><span class="n">maxcol</span><span class="o">*</span><span class="p">,)</span>
              <span class="k">for</span> <span class="n">flow</span> <span class="n">sizing</span> <span class="c1">-- the parent chooses only the</span>
              <span class="nb">number</span> <span class="k">of</span> <span class="n">columns</span> <span class="k">for</span> <span class="n">this</span> <span class="n">widget</span>

            <span class="p">()</span>
              <span class="k">for</span> <span class="n">fixed</span> <span class="n">sizing</span> <span class="c1">-- this widget is a fixed size</span>
              <span class="n">which</span> <span class="n">can</span><span class="err">&#39;</span><span class="n">t</span> <span class="n">be</span> <span class="n">adjusted</span> <span class="k">by</span> <span class="n">the</span> <span class="n">parent</span>
</code></pre></div>


<p>:type size: widget size
   :param focus: set to <code>True</code> if this widget or one of its children
                 is in focus
   :type focus: bool</p>
<p>:returns: A :class:<code>Canvas</code> subclass instance containing the
             rendered content of this widget</p>
<p>:class:<code>Text</code> widgets return a :class:<code>TextCanvas</code> (arbitrary text and
   display attributes), :class:<code>SolidFill</code> widgets return a
   :class:<code>SolidCanvas</code> (a single character repeated across
   the whole surface) and container widgets return a
   :class:<code>CompositeCanvas</code> (one or more other canvases
   arranged arbitrarily).</p>
<p>If <em>focus</em> is <code>False</code>, the returned canvas may not have a cursor
   position set.</p>
<p>There is some metaclass magic defined in the :class:<code>Widget</code>
   metaclass :class:<code>WidgetMeta</code> that causes the
   result of this method to be cached by :class:<code>CanvasCache</code>.
   Later calls will automatically look up the value in the cache first.</p>
<p>As a small optimization the class variable :attr:<code>ignore_focus</code>
   may be defined and set to <code>True</code> if this widget renders the same
   canvas regardless of the value of the <em>focus</em> parameter.</p>
<p>Any time the content of a widget changes it should call
   :meth:<code>_invalidate</code> to remove any cached canvases, or the widget
   may render the cached canvas instead of creating a new one.</p>
<p>.. method:: rows(size, focus=False)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any flow widget.  See :meth:`.sizing`.</span>
</code></pre></div>


<p>See :meth:<code>Widget.render</code> for parameter details.</p>
<p>:returns: The number of rows required for this widget given a number
             of columns in <em>size</em></p>
<p>This is the method flow widgets use to communicate their size to other
   widgets without having to render a canvas. This should be a quick
   calculation as this function may be called a number of times in normal
   operation. If your implementation may take a long time you should add
   your own caching here.</p>
<p>There is some metaclass magic defined in the :class:<code>Widget</code>
   metaclass :class:<code>WidgetMeta</code> that causes the
   result of this function to be retrieved from any
   canvas cached by :class:<code>CanvasCache</code>, so if your widget
   has been rendered you may not receive calls to this function. The class
   variable :attr:<code>ignore_focus</code> may be defined and set to <code>True</code> if this
   widget renders the same size regardless of the value of the <em>focus</em>
   parameter.</p>
<p>.. method:: keypress(size, key)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  must be implemented by any selectable widget.</span>
<span class="err">  See :meth:`.selectable`.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details
   :type size: widget size
   :param key: a single keystroke value; see :ref:<code>keyboard-input</code>
   :type key: bytes or unicode</p>
<p>:returns: <code>None</code> if <em>key</em> was handled by this widget or
             <em>key</em> (the same value passed) if <em>key</em> was not handled
             by this widget</p>
<p>Container widgets will typically call the :meth:<code>keypress</code> method on
   whichever of their children is set as the focus.</p>
<p>The standard widgets use :attr:<code>_command_map</code> to
   determine what action should be performed for a given <em>key</em>. You may
   modify these values to your liking globally, at some level in the
   widget hierarchy or on individual widgets. See :class:<code>CommandMap</code>
   for the defaults.</p>
<p>In your own widgets you may use whatever logic you like: filtering or
   translating keys, selectively passing along events etc.</p>
<p>.. method:: mouse_event(size, event, button, col, row, focus)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">may</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">a</span> <span class="n">subclass</span><span class="p">.</span>  <span class="k">Not</span> <span class="n">implementing</span> <span class="n">this</span>
  <span class="n">method</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="k">having</span> <span class="n">a</span> <span class="n">method</span> <span class="n">that</span> <span class="n">always</span> <span class="n">returns</span>
  <span class="ss">``</span><span class="no">False</span><span class="ss">``</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size
   :param event: Values such as <code>'mouse press'</code>, <code>'ctrl mouse press'</code>,
                 <code>'mouse release'</code>, <code>'meta mouse release'</code>,
                 <code>'mouse drag'</code>; see :ref:<code>mouse-input</code>
   :type event: mouse event
   :param button: 1 through 5 for press events, often 0 for release events
                  (which button was released is often not known)
   :type button: int
   :param col: Column of the event, 0 is the left edge of this widget
   :type col: int
   :param row: Row of the event, 0 it the top row of this widget
   :type row: int
   :param focus: Set to <code>True</code> if this widget or one of its children
                 is in focus
   :type focus: bool</p>
<p>:returns: <code>True</code> if the event was handled by this widget, <code>False</code>
             otherwise</p>
<p>Container widgets will typically call the :meth:<code>mouse_event</code> method on
   whichever of their children is at the position (<em>col</em>, <em>row</em>).</p>
<p>.. method:: get_cursor_coords(size)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">must</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">any</span> <span class="n">widget</span> <span class="n">that</span> <span class="n">may</span> <span class="k">return</span> <span class="k">cursor</span>
  <span class="n">coordinates</span> <span class="k">as</span> <span class="n">part</span> <span class="n">of</span> <span class="n">the</span> <span class="n">canvas</span> <span class="n">that</span> <span class="p">:</span><span class="n">meth</span><span class="p">:</span><span class="ss">`render`</span> <span class="n">returns</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size</p>
<p>:returns: (<em>col</em>, <em>row</em>) if this widget has a cursor, <code>None</code> otherwise</p>
<p>Return the cursor coordinates (<em>col</em>, <em>row</em>) of a cursor that will appear
   as part of the canvas rendered by this widget when in focus, or <code>None</code>
   if no cursor is displayed.</p>
<p>The :class:<code>ListBox</code> widget
   uses this method to make sure a cursor in the focus widget is not
   scrolled out of view.  It is a separate method to avoid having to render
   the whole widget while calculating layout.</p>
<p>Container widgets will typically call the :meth:<code>.get_cursor_coords</code>
   method on their focus widget.</p>
<p>.. method:: get_pref_col(size)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code><span class="err">  This method is not implemented in :class:`.Widget` but</span>
<span class="err">  may be implemented by a subclass.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size</p>
<p>:returns: a column number or <code>'left'</code> for the leftmost available
             column or <code>'right'</code> for the rightmost available column</p>
<p>Return the preferred column for the cursor to be displayed in this
   widget. This value might not be the same as the column returned from
   :meth:<code>get_cursor_coords</code>.</p>
<p>The :class:<code>ListBox</code> and :class:<code>Pile</code>
   widgets call this method on a widget losing focus and use the value
   returned to call :meth:<code>.move_cursor_to_coords</code> on the widget becoming
   the focus. This allows the focus to move up and down through widgets
   while keeping the cursor in approximately the same column on screen.</p>
<p>.. method:: move_cursor_to_coords(size, col, row)</p>
<p>.. note::</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">This</span> <span class="n">method</span> <span class="k">is</span> <span class="k">not</span> <span class="n">implemented</span> <span class="k">in</span> <span class="p">:</span><span class="n">class</span><span class="p">:</span><span class="ss">`.Widget`</span> <span class="n">but</span>
  <span class="n">may</span> <span class="n">be</span> <span class="n">implemented</span> <span class="k">by</span> <span class="n">a</span> <span class="n">subclass</span><span class="p">.</span>  <span class="k">Not</span> <span class="n">implementing</span> <span class="n">this</span>
  <span class="n">method</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="k">having</span> <span class="n">a</span> <span class="n">method</span> <span class="n">that</span> <span class="n">always</span> <span class="n">returns</span>
  <span class="ss">``</span><span class="no">False</span><span class="ss">``</span><span class="p">.</span>
</code></pre></div>


<p>:param size: See :meth:<code>Widget.render</code> for details.
   :type size: widget size
   :param col: new column for the cursor, 0 is the left edge of this widget
   :type col: int
   :param row: new row for the cursor, 0 it the top row of this widget
   :type row: int</p>
<p>:returns: <code>True</code> if the position was set successfully anywhere on
             <em>row</em>, <code>False</code> otherwise</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">SubMenu</span>(<span class="n">urwid</span>.<span class="n">WidgetWrap</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="nb">self</span>, <span class="nb">caption</span>, <span class="n">choices</span>, <span class="n">top</span>):

        <span class="n">super</span>(<span class="n">SubMenu</span>, <span class="nb">self</span>).<span class="n">__init__</span>(

            <span class="n">MenuButton</span>([<span class="nb">caption</span>, <span class="s">&quot;\N{HORIZONTAL ELLIPSIS}&quot;</span>], <span class="nb">self</span>.<span class="n">open_menu</span>))

        <span class="nb">line</span> = <span class="n">urwid</span>.<span class="n">Divider</span>(<span class="s">&#39;\N{LOWER ONE QUARTER BLOCK}&#39;</span>)

        <span class="n">listbox</span> = <span class="n">urwid</span>.<span class="n">ListBox</span>(

            <span class="n">urwid</span>.<span class="n">SimpleFocusListWalker</span>([

                <span class="n">urwid</span>.<span class="n">AttrMap</span>(<span class="n">urwid</span>.<span class="n">Text</span>([<span class="s">&quot;\n  &quot;</span>, <span class="nb">caption</span>]), <span class="s">&#39;heading&#39;</span>),

                <span class="n">urwid</span>.<span class="n">AttrMap</span>(<span class="nb">line</span>, <span class="s">&#39;line&#39;</span>),

                <span class="n">urwid</span>.<span class="n">Divider</span>()

            ] + <span class="n">choices</span> + [<span class="n">urwid</span>.<span class="n">Divider</span>()]))

        <span class="nb">self</span>.<span class="n">menu</span> = <span class="n">urwid</span>.<span class="n">AttrMap</span>(<span class="n">listbox</span>, <span class="s">&#39;options&#39;</span>)

        <span class="nb">self</span>.<span class="n">top</span> = <span class="n">top</span>

    <span class="n">def</span> <span class="n">open_menu</span>(<span class="nb">self</span>, <span class="n">_</span>):

        <span class="nb">self</span>.<span class="n">top</span>.<span class="n">open_box</span>(<span class="nb">self</span>.<span class="n">menu</span>)
</code></pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro_6">Ancestors (in MRO)</h4>
<ul>
<li>urwid.widget.WidgetWrap</li>
<li>urwid.widget.DelegateToWidgetMixin</li>
<li>urwid.widget.Widget</li>
</ul>
<h4 id="instance-variables_6">Instance variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">base_widget</span>
</code></pre></div>


<p>Read-only property that steps through decoration widgets
and returns the one at the base.  This default implementation
returns self.</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus</span>
</code></pre></div>


<p>Read-only property returning the child widget in focus for
container widgets.  This default implementation
always returns <code>None</code>, indicating that this widget has no children.</p>
<div class="codehilite"><pre><span></span><code><span class="n">focus_position</span>
</code></pre></div>


<p>Property for reading and setting the focus position for
container widgets. This default implementation raises
:exc:<code>IndexError</code>, making normal widgets fail the same way
accessing :attr:<code>.focus_position</code> on an empty container widget would.</p>
<div class="codehilite"><pre><span></span><code><span class="n">get_cursor_coords</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">get_pref_col</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">keypress</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">mouse_event</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">move_cursor_to_coords</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">pack</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">rows</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">selectable</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">sizing</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">w</span>
</code></pre></div>


<h4 id="methods_6">Methods</h4>
<h5 id="open_menu">open_menu</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">open_menu</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">_</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">open_menu</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">_</span><span class="p">):</span>

        <span class="k">self</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">open_box</span><span class="p">(</span><span class="k">self</span><span class="p">.</span><span class="n">menu</span><span class="p">)</span>
</code></pre></div>


</details>
<h5 id="render_3">render</h5>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="p">,</span>
    <span class="n">focus</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">cached_render</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="k">False</span><span class="p">):</span>

        <span class="n">focus</span> <span class="o">=</span> <span class="n">focus</span> <span class="k">and</span> <span class="k">not</span> <span class="n">ignore_focus</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">CanvasCache</span><span class="p">.</span><span class="k">fetch</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">cls</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">canv</span>

        <span class="n">canv</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="o">=</span><span class="n">focus</span><span class="p">)</span>

        <span class="n">validate_size</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canv</span><span class="p">.</span><span class="n">widget_info</span><span class="p">:</span>

            <span class="n">canv</span> <span class="o">=</span> <span class="n">CompositeCanvas</span><span class="p">(</span><span class="n">canv</span><span class="p">)</span>

        <span class="n">canv</span><span class="p">.</span><span class="n">finalize</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">size</span><span class="p">,</span> <span class="n">focus</span><span class="p">)</span>

        <span class="n">CanvasCache</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">canv</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">canv</span>
</code></pre></div>


</details>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../config/" title="Config" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Config
              </span>
            </div>
          </a>
        
        
          <a href="../" title="Index" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Index
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Powered by
        <a href="http://timothycrosley.github.io/portray">portray.</a>
        You too can
        <a href="http://timothycrosley.github.io/portray">
          portray</a>
        your Python project well using automatic documentation.
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.a14cc5fd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: [],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.7a2ea5ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>