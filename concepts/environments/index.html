<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="simbuerg">
  <link rel="canonical" href="https://polyjit.github.io/benchbuild/concepts/environments/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Environment - BenchBuild</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../css/mkapi-common.css" rel="stylesheet" />
  <link href="../../css/mkapi-readthedocs.css" rel="stylesheet" />
  <link href="//use.fontawesome.com/releases/v5.8.1/css/all.css" rel="stylesheet" />
  <link href="//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css" rel="stylesheet" />
  <link href="../../css/pheasant.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Environment";
    var mkdocs_page_input_path = "concepts/environments.md";
    var mkdocs_page_url = "/benchbuild/concepts/environments/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/json.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> BenchBuild</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">BenchBuild Documentation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../basics/">Installation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../basics/configuration/">Configuration</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Concepts</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../source/">Source</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Environment</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../projects/">Project</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../experiments/">Experiment</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Advanced Usage</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced/">TODO</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">API</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild/">benchbuild</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.likwid/">benchbuild.likwid</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.extensions</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.extensions/">benchbuild.extensions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.extensions.base/">benchbuild.extensions.base</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.plugins/">benchbuild.plugins</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.db.versions</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.db.versions/">benchbuild.db.versions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.db.versions.002_Remove_GlobalConfig_table/">benchbuild.db.versions.002_Remove_GlobalConfig_table</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.db.versions.001_Remove_RegressionTest_table/">benchbuild.db.versions.001_Remove_RegressionTest_table</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.db.versions.003_Unmanage_Events/">benchbuild.db.versions.003_Unmanage_Events</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.settings/">benchbuild.settings</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects/">benchbuild.projects</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.projects.gentoo</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo/">benchbuild.projects.gentoo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.lammps/">benchbuild.projects.gentoo.lammps</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.xz/">benchbuild.projects.gentoo.xz</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.info/">benchbuild.projects.gentoo.info</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.crafty/">benchbuild.projects.gentoo.crafty</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.eix/">benchbuild.projects.gentoo.eix</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.portage_gen/">benchbuild.projects.gentoo.portage_gen</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.gentoo/">benchbuild.projects.gentoo.gentoo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.gzip/">benchbuild.projects.gentoo.gzip</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.postgresql/">benchbuild.projects.gentoo.postgresql</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.x264/">benchbuild.projects.gentoo.x264</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.sevenz/">benchbuild.projects.gentoo.sevenz</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.gentoo.bzip2/">benchbuild.projects.gentoo.bzip2</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.projects.lnt</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.lnt/">benchbuild.projects.lnt</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.projects.lnt.lnt/">benchbuild.projects.lnt.lnt</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.container/">benchbuild.container</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.project/">benchbuild.project</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.engine/">benchbuild.engine</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.experiments</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.experiments/">benchbuild.experiments</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.experiments.raw/">benchbuild.experiments.raw</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.experiments.empty/">benchbuild.experiments.empty</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.environments.domain</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.environments.domain/">benchbuild.environments.domain</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.environments.domain.declarative/">benchbuild.environments.domain.declarative</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.cli</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli/">benchbuild.cli</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli.experiment/">benchbuild.cli.experiment</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli.slurm/">benchbuild.cli.slurm</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli.main/">benchbuild.cli.main</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli.log/">benchbuild.cli.log</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli.run/">benchbuild.cli.run</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli.project/">benchbuild.cli.project</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.cli.config/">benchbuild.cli.config</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.utils</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils/">benchbuild.utils</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.revision_ranges/">benchbuild.utils.revision_ranges</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.slurm/">benchbuild.utils.slurm</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.tasks/">benchbuild.utils.tasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.bootstrap/">benchbuild.utils.bootstrap</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.wrapping/">benchbuild.utils.wrapping</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.container/">benchbuild.utils.container</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.download/">benchbuild.utils.download</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.dict/">benchbuild.utils.dict</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.db/">benchbuild.utils.db</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.settings/">benchbuild.utils.settings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.schema/">benchbuild.utils.schema</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.versions/">benchbuild.utils.versions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.schedule_tree/">benchbuild.utils.schedule_tree</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.run/">benchbuild.utils.run</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.path/">benchbuild.utils.path</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.compiler/">benchbuild.utils.compiler</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.actions/">benchbuild.utils.actions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.utils.user_interface/">benchbuild.utils.user_interface</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">benchbuild.source</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.source/">benchbuild.source</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.source.http/">benchbuild.source.http</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.source.git/">benchbuild.source.git</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.source.base/">benchbuild.source.base</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.statistics/">benchbuild.statistics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/benchbuild.experiment/">benchbuild.experiment</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG/">Release Notes</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">BenchBuild</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Concepts &raquo;</li>
        
      
    
    <li>Environment</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                
<h1 id="environment">Environment</h1>
<div class="mkapi-node" id="benchbuild.environments.domain.declarative">
<div class='mkapi-object-container'>
  <div class="mkapi-object module code top">
    <div class="mkapi-object-kind module top">module</div>
    <div class="mkapi-object-body module top"><code class="mkapi-object-prefix"><a href="../../api/benchbuild.environments.domain/#benchbuild.environments.domain">benchbuild.environments.domain</a>.</code><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative">declarative</a></code></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>BenchBuild supports containerized execution of all experiments. This gives you
full control about the environment your <a href="/concepts/projects/">projects</a> and
<a href="/concepts/experiments/">experiments</a> may run in.</p>
<p>The following example uses the latest <code>alpine:latest</code></p></div>
    </div>
  <div class="mkapi-section example">
      <div class="mkapi-section-name example">
          <span class="mkapi-section-name-body example">Example</span> 
        </div>
      <div class="mkapi-section-body example"><div class="highlight"><pre><span></span><code><span class="n">ContainerImage</span><span class="p">()</span><span class="o">.</span><span class="n">from_</span><span class="p">(</span><span class="s1">&#39;alpine:latest&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;apk&#39;</span><span class="p">,</span> <span class="s1">&#39;update&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;apk&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;python3&#39;</span><span class="p">)</span>
</code></pre></div></div>
    </div>
  <div class="mkapi-section classes">
      <div class="mkapi-section-name classes">
          <span class="mkapi-section-name-body classes">Classes</span> 
        </div>
      <div class="mkapi-section-body classes"><ul class="mkapi-items">
<li class="class"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Define a container image declaratively.</span></li>


</ul></div>
    </div>
  <div class="mkapi-section functions">
      <div class="mkapi-section-name functions">
          <span class="mkapi-section-name-body functions">Functions</span> 
        </div>
      <div class="mkapi-section-body functions"><ul class="mkapi-items">
<li class="function"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.add_benchbuild_layers">add_benchbuild_layers</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">layers</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Add benchbuild into the given container image.</span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <div class="mkapi-object-body class top"><code class="mkapi-object-prefix"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative">benchbuild.environments.domain.declarative</a>.</code><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">iterable=()</code><code class="mkapi-object-parenthesis">)</code></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section bases">
      <div class="mkapi-section-name bases">
          <span class="mkapi-section-name-body bases">Bases</span> 
        </div>
      <div class="mkapi-section-body bases">
<span class="mkapi-base">list</span>
</div>
    </div>
  <div class="mkapi-section">
      <div class="mkapi-section-body"><p>Define a container image declaratively.</p>
<p>Start a new image using the <code>.from_</code> method and provide a base image.
Each method creates a new layer in the container image.</p></div>
    </div>
  <div class="mkapi-section methods">
      <div class="mkapi-section-name methods">
          <span class="mkapi-section-name-body methods">Methods</span> 
        </div>
      <div class="mkapi-section-body methods"><ul class="mkapi-items">
<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.add">add</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">sources</code>, <code class="mkapi-object-signature">tgt</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Add given files from the source to the container image.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.command">command</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Set the default command the container runs.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.context">context</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">func</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Interact with the build context of the container.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.copy_">copy_</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">sources</code>, <code class="mkapi-object-signature">tgt</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Copy given files from the source to the container image.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.entrypoint">entrypoint</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Set the entrypoint of the container.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.env">env</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Create an environment layer in this image.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.from_">from_</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">base_image</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Specify a new base layer for this image.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.run">run</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">command</code>, <code class="mkapi-object-signature">*args</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Run a command in the container image.</span></li>

<li class="method"><code class="mkapi-item-name"><a href="#benchbuild.environments.domain.declarative.ContainerImage.workingdir">workingdir</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">directory</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Change the working directory in the container.</span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.env">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.env">env</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Create an environment layer in this image.</p>
<p>Dockerfile syntax: ENV</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">

<li><code class="mkapi-item-name">kwargs</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">a dictionary containing name/value pairings to be
set as environment variables.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.from_">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.from_">from_</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">base_image</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Specify a new base layer for this image.</p>
<p>Dockerfile syntax: FROM <image></p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">base_image</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The base image for our new container image.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.context">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.context">context</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">func</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Interact with the build context of the container.</p>
<p>Sometimes you have to interact with the build context of a container
image. For example, you need to add artifacts to the build context
before you can add the to the container image.
BenchBuild uses this to add the sources to the container image
automatically.</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">func</code>
<span class="mkapi-item-type">(tp.Callable[[], None])</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">A callable that is executed in the
build-context directory.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.add">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.add">add</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">sources</code>, <code class="mkapi-object-signature">tgt</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Add given files from the source to the container image.</p>
<p>Dockerfile syntax: ADD <source> [<source>...] <target></p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">sources</code>
<span class="mkapi-item-type">(tp.Iterable[str])</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Source path to add to the target</span></li>

<li><code class="mkapi-item-name">tgt</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Absolute target path.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.copy_">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.copy_">copy_</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">sources</code>, <code class="mkapi-object-signature">tgt</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Copy given files from the source to the container image.</p>
<p>Dockerfile syntax: COPY <source> [<source>...] <target></p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">sources</code>
<span class="mkapi-item-type">(tp.Iterable[str])</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Source path to add to the target</span></li>

<li><code class="mkapi-item-name">tgt</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Absolute target path.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.run">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.run">run</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">command</code>, <code class="mkapi-object-signature">*args</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Run a command in the container image.</p>
<p>Dockerfile syntax: RUN <command></p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">command</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The binary to execute in the container.</span></li>

<li><code class="mkapi-item-name">*args</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Arguments that will be passed to the container.</span></li>

<li><code class="mkapi-item-name">**kwargs</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Additional options that will be passed to the
backend run command.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.workingdir">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.workingdir">workingdir</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">directory</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Change the working directory in the container.</p>
<p>Dockerfile syntax: WORKINGDIR <absolute-path></p>
<p>All layers that follow this layer will be run with their working
directory set to <code>directory</code>.</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">directory</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The target directory to set our cwd to.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.entrypoint">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.entrypoint">entrypoint</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Set the entrypoint of the container.</p>
<p>Dockerfile syntax: ENTRYPOINT <command></p>
<p>This sets the default binary to run to the given command.</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">*args</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">A list of command components.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.ContainerImage.command">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <div class="mkapi-object-body method"><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage.command">command</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; <a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a></span></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Set the default command the container runs.</p>
<p>Dockerfile syntax: CMD <command></p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">*args</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">A list of command components.</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="benchbuild.environments.domain.declarative.add_benchbuild_layers">
<div class='mkapi-object-container'>
  <div class="mkapi-object function code top">
    <div class="mkapi-object-kind function top">function</div>
    <div class="mkapi-object-body function top"><code class="mkapi-object-prefix"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative">benchbuild.environments.domain.declarative</a>.</code><code class="mkapi-object-name"><a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.add_benchbuild_layers">add_benchbuild_layers</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">layers</code><code class="mkapi-object-parenthesis">)</code></div>
  </div>
  
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Add benchbuild into the given container image.</p>
<p>This assumes all necessary depenencies are available in the image already.
The installation is done, either using pip from a remote mirror, or using
the source checkout of benchbuild.</p>
<p>A source installation requires your buildah/podman installation to be
able to complete a bind-mount as the user that runs benchbuild.</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">layers</code>
<span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">a container image we will add our install layers to.</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(<a href="../../api/benchbuild.environments.domain.declarative/#benchbuild.environments.domain.declarative.ContainerImage">ContainerImage</a>)</span>
        </div>
      <div class="mkapi-section-body returns"><p>the modified container image.</p></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../projects/" class="btn btn-neutral float-right" title="Project">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../source/" class="btn btn-neutral" title="Source"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/PolyJIT/benchbuild" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../source/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../projects/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/mkapi.js"></script>
      <script src="../../js/pheasant.js"></script>
      <script src="../../search/main.js"></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
